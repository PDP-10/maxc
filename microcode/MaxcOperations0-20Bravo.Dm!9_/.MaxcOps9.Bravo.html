<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>[Indigo]&lt;Maxc>MaxcOperations0-20Bravo.Dm!9>MaxcOps9.Bravo</title>
  </head>
  <body>
    <div style="width: 405pt; margin-left: 121pt; margin-top: 0pt; text-align: left">
<span style="font: 10pt serif">Page Numbers: Yes   X: 527   Y: 10.5" First Page: 20<br>Columns: 1   Edge Margin: .4"   Between Columns: .4"<br>Margins:   Top: 1.3"   Bottom: 1"<br>Line Numbers: No   Modulus: 5   Page-relative<br>Odd Heading:</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span style="font: bold 12pt serif">Maxc Operations</span><span class="tab" val="24"></span><span style="font: bold italic 10pt serif">Maxc2 Midas Operation</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">Even Heading:</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="tab" val="24"></span><span style="font: bold italic 10pt serif">Maxc2 Midas Operation</span><span class="tab" val="24"></span><span style="font: bold 12pt serif">Maxc Operations</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: center">
<span style="font: bold 10pt serif">9.  MAXC2 MIDAS OPERATION</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Midas is the loader/debugger used for the Maxc2 microprocessor.  It has features for directly testing the Maxc2 hardware through the maintenance interface, for loading/dumping microprograms assembled by Micro, and for examining and modifying the storage in the microprocessor.  It can control the microprocessor and memory power supplies, configure the memory, and enable/disable the various memory error correction-detection stuff.  It also has a command for calling AltIO, the I/O program used by Tenex.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">9.1.  Starting Midas</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">To start Midas, simply say "Midas" to the executive or, more generally, "Midas com-file".</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Midas command files have the extension ".Midas".  Generally, there is one command file for each  of the hardware diagnostics, with the same name as the diagnostic, e.g.:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">dgbasic.mb</span><span class="tab" val="24"></span><span style="font: 10pt serif">the diagnostic;<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">dgbasic.midas</span><span class="tab" val="24"></span><span style="font: 10pt serif">the command file;<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">midas dgbasic</span><span class="tab" val="24"></span><span style="font: 10pt serif">to the Executive executes the command file.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">These command files load the diagnostic into the microprocessor and display various registers which are of interest when the microprogram is in use.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">In addition, there are the following command files:</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span class="tab" val="24"></span><span style="font: 10pt serif">midas/i</span><span class="tab" val="24"></span><span style="font: 10pt serif">initializes (should be executed whenever any Midas files move or<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">change, or when a new Alto Operating System is installed).</span><span class="tab" val="24"></span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">midas/r</span><span class="tab" val="24"></span><span style="font: 10pt serif">continues with the symbol table and display saved at the last call to<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">AltIO.<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">midas</span><span class="tab" val="24"></span><span style="font: 10pt serif">simply fires up Midas.</span><span class="tab" val="24"></span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">midas tenload</span><span class="tab" val="24"></span><span style="font: 10pt serif">loads the Tenex microcode.</span><span class="tab" val="24"></span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">midas tengo</span><span class="tab" val="24"></span><span style="font: 10pt serif">loads Tenex microcode and calls AltIO to start Tenex.</span><span class="tab" val="24"></span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">midas mexecgo</span><span class="tab" val="24"></span><span style="font: 10pt serif">loads Tenex microcode and calls AltIO to start MicroExec.</span><span class="tab" val="24"></span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">midas init</span><span class="tab" val="24"></span><span style="font: 10pt serif">loads new Tenex microcode and sets checksums.</span><span class="tab" val="24"></span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">midas debug</span><span class="tab" val="24"></span><span style="font: 10pt serif">loads some special symbols for use with "Constructed-Test" (see<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">below).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">If you are already running Midas, and you want to switch microprograms, you can bug the "Run-program" menu item and then bug the name of the command file in the subsidiary menu which comes up.  The "loader" menu item simply initializes a new Midas.  "debug" is used to prepare for the "Constructed-test" stuff discussed later.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">9.2.  Midas Display</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">At the top of the Midas display are a number of register name-value menus.  Below these are the name of the last microprogram loaded, the command comment line, the command menu, and the input text line.  When you move the mouse around, the menu item selected (if any) turns black.  Note that mouse actions execute when you </span><span style="font: italic 10pt serif">release</span><span style="font: 10pt serif"> the mouse button, so you can move the mouse around with the button depressed without causing damage.  If the mouse position does not select any screen item, nothing happens when the button is released.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Register areas are of different sizes.  Smaller areas are already filled in with various microprocessor registers when you fire-up Midas.  The unused ones at the right and bottom left of the display are appropriate for 36-bit stuff, but only the bottom right items are large enough for IM (instruction memory) stuff.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">To display a new item, type its name, move the mouse to one of the register name areas, and push-and-release the left (or top) mouse button.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">If the command line is empty, the selected register area will be cleared when the button is released.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">When you push the right (bottom) mouse button over a name area in which an address is displayed, a subsidiary menu appears as follows:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span class="tab" val="24"></span><span style="font: 10pt serif">A+1  A-1</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">"A+1" increments the address, displaying the next location.  "A-1" decrements the address.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Releasing the middle button over an address item shows alternate forms of printout on the command comment line.  If the input text line is non-empty, it will first display that item.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Releasing the left button over a value item, evaluates the input text and stores the value (or 0 if no text typed) in the selected register.  The input text is limited to octal numbers with interspersed spaces permitted for readability.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Releasing the middle button over a value item shows an alternate display of the value on the command comment line.  The alternate for IMA, NPC, and STK values is the nearest IM address tag less-equal to the value+offset (the value is also put on the input text line, so you can examine that location in the display area if you want to).  For DM, DM1, and DM2 words, the alternate is three IM addresses with offsets and one flag.  For IM the alternate is a symbolic printout of the microinstruction.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Releasing the right button over a value item appends the text of the value to the input text line.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">9.3.  Midas Command Menu</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">For the command menu, all mouse buttons are presently equivalent (this may change).  For most common commands, equivalent input text sequences carry out the same action, as given below.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The general philosophy on mixing keyboard and mouse button control is that, when possible, a command involving some typing is carried out completely at the keyboard, whereas commands involving mouse buttons are carried out completely with the mouse.</span><span class="tab" val="24"></span><span style="font: 10pt serif"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Many of the commands are executed in overlays.  When these get executed, the register display will turn black (the code for overlays resides where the display bit buffers would otherwise be).  During loading and during execution of command files, the display is turned off to make the machine run faster.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Many of the commands put up a succession of subsidiary menus with assorted options as discussed below.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The long-running commands normally display an "Abort" menu item.  When this is bugged or when control-C is typed, the action terminates.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: bold 10pt serif">Input</span><span class="tab" val="24"></span><span style="font: bold 10pt serif">Keyboard</span><span class="tab" val="24"></span><span style="font: bold 10pt serif">Menu Item</span><span class="tab" val="24"></span><span style="font: bold 10pt serif">Comments</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">;Q</span><span class="tab" val="24"></span><span style="font: 10pt serif">Exit</span><span class="tab" val="24"></span><span style="font: 10pt serif">Quit to Executive.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">File</span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Read-Cmds</span><span class="tab" val="24"></span><span style="font: 10pt serif">Execute command file (default extension ".Midas").</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Show-Cmds</span><span class="tab" val="24"></span><span style="font: 10pt serif">Show equivalent command file text for selected menu<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">items.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">File</span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Write-Cmds</span><span class="tab" val="24"></span><span style="font: 10pt serif">Write subsequent commands on file.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">;A</span><span class="tab" val="24"></span><span style="font: 10pt serif">AltIO</span><span class="tab" val="24"></span><span style="font: 10pt serif">Call AltIO with options (terminates command file).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Run-Program</span><span class="tab" val="24"></span><span style="font: 10pt serif">Run selected microprogram (restricted use in command<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">files).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Files</span><span class="tab" val="24"></span><span style="font: 10pt serif">;L</span><span class="tab" val="24"></span><span style="font: 10pt serif">Load</span><span class="tab" val="24"></span><span style="font: 10pt serif">Load .MB files.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Files</span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">LoadSyms</span><span class="tab" val="24"></span><span style="font: 10pt serif">Load only addresses from .MB files.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">File</span><span class="tab" val="24"></span><span style="font: 10pt serif">;D</span><span class="tab" val="24"></span><span style="font: 10pt serif">Dump</span><span style="font: 8pt serif; vertical-align: 4pt">2</span><span class="tab" val="24"></span><span style="font: 10pt serif">Dump compacted .MB file using the .MB file(s) of the<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">previous load to control what&rsquo;s dumped.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">File</span><span class="tab" val="24"></span><span style="font: 10pt serif">;C</span><span class="tab" val="24"></span><span style="font: 10pt serif">Compare</span><span style="font: 8pt serif; vertical-align: 4pt">2</span><span class="tab" val="24"></span><span style="font: 10pt serif">Compare microprocessor data to data specified in .MB<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">file--compare file must have been created by Dump.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Addr</span><span class="tab" val="24"></span><span style="font: 10pt serif">=</span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Print value of an address (illegal in command file).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">IMaddr</span><span class="tab" val="24"></span><span style="font: 10pt serif">;B</span><span class="tab" val="24"></span><span style="font: 10pt serif">Break</span><span class="tab" val="24"></span><span style="font: 10pt serif">Insert breakpoint.  (Restarting from the breakpoint will<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">succeed in all situations except when a memory  write or<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">read-modify-write has been given and MDR not yet<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">loaded with the correct data or when the disk controller<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">is active.)</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">[IMaddr]</span><span class="tab" val="24"></span><span style="font: 10pt serif">;K</span><span class="tab" val="24"></span><span style="font: 10pt serif">Kill-Break</span><span class="tab" val="24"></span><span style="font: 10pt serif">Remove break at address (at IMA if nothing typed).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">[IMaddr]</span><span class="tab" val="24"></span><span style="font: 10pt serif">;G</span><span class="tab" val="24"></span><span style="font: 10pt serif">Go</span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span class="tab" val="24"></span><span style="font: 10pt serif">Start at address (continue at IMA/NPC if nothing<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">typed).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: bold 10pt serif">Input</span><span class="tab" val="24"></span><span style="font: bold 10pt serif">Keyboard</span><span class="tab" val="24"></span><span style="font: bold 10pt serif">Menu Item</span><span class="tab" val="24"></span><span style="font: bold 10pt serif">Comments</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">[IMaddr]</span><span class="tab" val="24"></span><span style="font: 10pt serif">;P</span><span class="tab" val="24"></span><span style="font: 10pt serif">Go</span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span class="tab" val="24"></span><span style="font: 10pt serif">Same as ;G (mnemonic "Proceed", provided for<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">compatibility with Maxc1 Midas).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">[IMaddr]</span><span class="tab" val="24"></span><span style="font: 10pt serif">:</span><span class="tab" val="24"></span><span style="font: 10pt serif">Step</span><span class="tab" val="24"></span><span style="font: 10pt serif">Single-step at address (at IMA/NPC if nothing typed).<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">See caveats on breakpoints above.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">[IMaddr]</span><span class="tab" val="24"></span><span style="font: 10pt serif">;R</span><span class="tab" val="24"></span><span style="font: 10pt serif">Repeat-Go</span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span class="tab" val="24"></span><span style="font: 10pt serif">Go at address, repeat endlessly after halts.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">[IMaddr]</span><span class="tab" val="24"></span><span style="font: 10pt serif">;S</span><span class="tab" val="24"></span><span style="font: 10pt serif">Repeat-Step</span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span class="tab" val="24"></span><span style="font: 10pt serif">Repeatedly step at address.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">LMPEscan</span><span class="tab" val="24"></span><span style="font: 10pt serif">Scan all local memories (IM, SM, DM, DM1, DM2) for<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">parity errors.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Power-On</span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span class="tab" val="24"></span><span style="font: 10pt serif">Turn on power (see below).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Power-Off</span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span class="tab" val="24"></span><span style="font: 10pt serif">Turn off power (see below).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">LDRaddrs</span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Constructed-Test</span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span class="tab" val="24"></span><span style="font: 10pt serif">(see below).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Test</span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span class="tab" val="24"></span><span style="font: 10pt serif">Test register or memory (see below).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Field-Loop</span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span class="tab" val="24"></span><span style="font: 10pt serif">For scoping (see below).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Test-All</span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span class="tab" val="24"></span><span style="font: 10pt serif">Test everything (see below).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 8pt serif; vertical-align: 4pt">1</span><span style="font: 10pt serif"> </span><span style="font: 8pt serif">Requires preceding "TimeOut" command in command file.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 8pt serif; vertical-align: 4pt">2</span><span style="font: 10pt serif"> </span><span style="font: 8pt serif">Requires confirmation with &lt;cr&gt;, "Y", or "." (or by preceding "Confirm" command in command file).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">9.4.  Keyboard</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">There are a number of characters which are legal symbol constituents in microprograms but which will cause trouble for Midas when they appear in addresses.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Lower case typein is converted to upper case by Midas, so avoid lower case characters in microprogram identifiers.  I recommend writing microprograms with the shift-lock key depressed.  Avoid "=" in identifiers.  "+" and "-" are ok so long as the following character (if any) is a letter.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Typing ahead is legal until the character you type would cause execution of a command.  After that Midas will flush input and blink at you until the current command finishes.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">At the end of a command the input text typed for that command is displayed on the input text line.  This text remains valid and can be used as the argument for another mouse action.  However, if you type any character (except control-A or backspace), the old input will be flushed before inserting the new character.</span><span class="tab" val="24"></span><span style="font: 10pt serif"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Keyboard editting characters are as follows:</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">control-A</span><span class="tab" val="24"></span><span style="font: 10pt serif">delete last character<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">backspace</span><span class="tab" val="24"></span><span style="font: 10pt serif">delete last character<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">control-Q</span><span class="tab" val="24"></span><span style="font: 10pt serif">clear text line<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">del</span><span class="tab" val="24"></span><span style="font: 10pt serif">clear text line</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Other special keyboard characters are as follows:</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">control-C</span><span class="tab" val="24"></span><span style="font: 10pt serif">aborts the current action<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">control-Z</span><span class="tab" val="24"></span><span style="font: 10pt serif">aborts a command file<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">control-D</span><span class="tab" val="24"></span><span style="font: 10pt serif">turns on the display<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">control-O</span><span class="tab" val="24"></span><span style="font: 10pt serif">turns off the display</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The interrupt characters above are ineffective during loading, dumping, or comparing, which typically take between 2 and 15 seconds.  Indefinite duration commands, such as "Go", "Test", etc. always monitor the keyboard, so control-C can be used to terminate them.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Control-Z, control-D, and control-O are intended for use during command files.  However, these characters do not take effect until the command file executes a command such as "Go" which monitors the keyboard.  There is no way to abort a command file and give control back to Midas safely except during a "Go" or other long-running command.  This is not expected to be a problem because commands are executed quickly.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">After interrupting a "Go" with control-C or control-Z, proceeding with ";P" or ";G" will succeed except when the conditions discussed earlier for breakpoints apply.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Although command menu items "Step", "Go", "Break", "Kill-Break", "Repeat-Step", and "Repeat-Go" are provided, you will normally find it more convenient to execute these from the keyboard using the alternate command characters.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">9.5.  Command Files</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Command files have default extension ".Midas".  They are normally executed by typing "Midas com-file" to the executive or by bugging the name of a command file from the subsidiary menu put up by "Run-program".  However, you can also execute a command file by typing a file name and bugging "Read-cmds" in the command menu.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">To find out what text should be put in command files, you can bug the "Show-Cmds" item in the command menu.  This will cause the command file text for each command to be displayed on the command comment line as the mouse selects it (you don&rsquo;t have to execute the command to see the equivalent text).  This text is complete except that the mouse button which executes the command isn&rsquo;t shown unless you depress the mouse button.  Usually the text "L " precedes the text given by "Show-Cmds", indicating that the left (or top) button was pressed and released to carry out the command.  "M " precedes a middle-button command and "R " a right-button (or bottom-button) command.  The name of the command is followed by a blank, then the command line text, and finally a carriage return.  To terminate "Show-Cmds", bug "Conceal-Cmds" (this only appears in the command menu when "Show-Cmds" is in progress).</span><span class="tab" val="24"></span><span style="font: 10pt serif"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">You can prepare a command file (default extension ".Midas") by typing a file name and bugging "Write-cmds".  This causes text for subsequent commands to be put on the file.  When you are done with this, bug "Stop-Write-Cmds" to close the file.  ("Stop-Write-Cmds" only appears in the command menu when a command file is being written.)  You will probably want to edit out your goofs with Bravo after the command file is written.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">For command files associated with big programs, the symbol table is not entirely in core, so you may want to sort the command-file addresses in reverse-alphabetical order to minimize symbol-table swapping.  Currently, Midas has barely enough symbol table space to hold all of the Tenex microcode&rsquo;s addresses, so none of the symbol blocks have to be swapped.  However, this may change if more features are added to Midas or to the Tenex microcode.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Command files can be nested several levels (limited by the size of sysZone which must be big enough to accommodate OpenFile and buffers for the command files already open).  However, there are the following </span><span style="font: italic 10pt serif">restrictions</span><span style="font: 10pt serif">:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">(1)</span><span class="tab" val="24"></span><span style="font: 10pt serif">"AltIO" terminates command files (i.e., upon return to Midas from AltIO the command file will not be continued).</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">(2)</span><span class="tab" val="24"></span><span style="font: 10pt serif">"Run-Program" is illegal except in the top level command file.  ("Run-Program" resets Midas, then calls "Read-Cmds".  This reset operation smashes the symbol table, the display, and the stack back to their initial state.  Hence, if you were to execute "Run-Program" from a subsidiary command file, that command file would be continued, but the higher level ones would not, and the sysZone buffers for the higher level command files would not be released.)</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Extra &lt;cr&gt;s can be used in a command file for punctuation, and ";" can be used at the beginning of a line or after the last character of a command to begin a comment.  The comment is terminated by &lt;cr&gt;.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Since Midas builds a table of file pointers during its initialization, when you edit an existing command file or .MB file, you should reinitialize Midas by typing "Midas/I".  When you add new command files or .MB files you should update the "Midas.Programs" file appropriately and do "Midas/I".  The form of "Midas.Programs" is discussed later.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">There are a number of commands which can never occur when Midas is run interactively, but which are useful in command files.  These are as follows:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: bold 10pt serif">Text Arg</span><span class="tab" val="24"></span><span style="font: bold 10pt serif">Menu Item</span><span class="tab" val="24"></span><span style="font: bold 10pt serif">Comments</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Octal no.</span><span class="tab" val="24"></span><span style="font: 10pt serif">SkipVEql</span><span class="tab" val="24"></span><span style="font: 10pt serif">Skip the next command if the selected value menu item equals<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">the value of the text arg.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Octal no.</span><span class="tab" val="24"></span><span style="font: 10pt serif">SkipVGr</span><span class="tab" val="24"></span><span style="font: 10pt serif">Skip the next command if the selected menu item&rsquo;s value is<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">greater than the text arg.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Octal no.</span><span class="tab" val="24"></span><span style="font: 10pt serif">SkipVLs</span><span class="tab" val="24"></span><span style="font: 10pt serif">Skip the next command if the selected menu item&rsquo;s value is<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">less than the text arg.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Octal no.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Skip</span><span class="tab" val="24"></span><span style="font: 10pt serif">Skip N following commands, where N is the 16-bit value of<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">the text arg.</span><span class="tab" val="24"></span><span style="font: 10pt serif"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Octal no.</span><span class="tab" val="24"></span><span style="font: 10pt serif">BackSkip</span><span class="tab" val="24"></span><span style="font: 10pt serif">Reset to byte 1 of the command file, then skip.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Octal no.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Return</span><span class="tab" val="24"></span><span style="font: 10pt serif">Return out of current command file and skip N commands in<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">the calling command file (if any), where N is the 16-bit value<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">of the text arg.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">DisplayOn</span><span class="tab" val="24"></span><span style="font: 10pt serif">Turn on the display, so that effects of subsequent commands can<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">be observed.  The display is initially off for a command file.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">DisplayOff</span><span class="tab" val="24"></span><span style="font: 10pt serif">Turn off the display.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Octal no.</span><span class="tab" val="24"></span><span style="font: 10pt serif">TimeOut</span><span class="tab" val="24"></span><span style="font: 10pt serif">Argument is a 32-bit octal number of milliseconds after which<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">to abort the immediately following command, if it has not<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">finished by then.  This is intended for use before "Go",<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">which might hang indefinitely.  If the timeout occurs Midas<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">will skip the command after the "Go". TimeOut also turns on<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">the display, which is necessary because the machinery which<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">checks for timeouts is only active with the display on.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span class="tab" val="24"></span><span style="font: 10pt serif">Confirm</span><span class="tab" val="24"></span><span style="font: 10pt serif">Supply confirmation for the command which follows (which<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">should be one of the commands requiring confirmation).</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">File name</span><span class="tab" val="24"></span><span style="font: 10pt serif">OpenOutput</span><span class="tab" val="24"></span><span style="font: 10pt serif">Open an output file (default extension ".Report") on which<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">text can be written.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">CloseOutput</span><span class="tab" val="24"></span><span style="font: 10pt serif">Close the output file.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">[text]</span><span class="tab" val="24"></span><span style="font: 10pt serif">WriteMessage</span><span class="tab" val="24"></span><span style="font: 10pt serif">Write the contents of the input text buffer on the output file.<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Note that if any text follows the WriteMessage, that text up to<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">but not including the &lt;cr&gt; is what gets written.  However, if<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">&lt;cr&gt; immediately follows WriteMessage, then the contents of<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">the input text buffer left by the previous command are what<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">gets written.  "~" is translated into &lt;cr&gt;.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">text</span><span class="tab" val="24"></span><span style="font: 10pt serif">Show-Error</span><span class="tab" val="24"></span><span style="font: 10pt serif">Display the text arg on the command line, turn on the display<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">if it was off, and query with "Abort" and "Continue" menu<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">items.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The "right-button" value action allows the current values of any register to be appended to the input text buffer.  This can be used in conjunction with WriteMessage to output various parts of the machine state to the output file.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">9.6.  Loading Programs</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The "Run-program" command is a short method of executing the most common command files--those which load a microprogram and fix up the display for that program.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">You can also load a program by typing a file name (default extension ".mb") and bugging "Load" in the command menu.  However, this should rarely be necessary because all of the microprograms appear in the menu put up by "Run-program", which additionally reinitializes Midas.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">It is a poor idea to do a "Load" when another microprogram has already been loaded because this will merge symbols from the new load into those already in the symbol table.  In addition to being very slow, this may overrun the size of the symbol table on the disk (no provision is made for expanding the symbol table beyond its maximum size).</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">It is also a good idea to assemble microprograms as a single .MB file.  Although Midas can load multiple .MB files (typed as a list separated by commas), this will cause additional fragmentation of the symbol table and thrashing while blocks are swapped in and out.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">These recommendations follow because Midas takes advantage of alphabetical address ordering in .MB files to pack its symbol buffers nearly full.  But when subsequent files are loaded the symbol buffers will be fragmented to about half-full, symbol buffer swapping will result, and the symbol searches will be longer.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">9.7.  Dumping Microprograms</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">After assembling a microprogram, it is a good idea to load and dump it from Midas.  Dumping deletes all forward reference fixups left by Micro and compacts both data and addresses to use less disk space and load more quickly later.  Also, undumped .MB files cannot be used with "Compare" because of forward references.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Note that only those memory words loaded by the original microprogram are dumped, so you cannot patch unused locations, dump the program, and expect the patches to survive.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">9.8.  Tenex Microcode</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">When a new release of the Tenex microcode is made, it must be loaded into the microprocessor, the checksums set, and then dumped onto SYS2.  To carry out this initialization, type "Midas init" to the executive.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">After dumping, SYS2;C can be used to compare the microstore against its correct contents whenever the checker program (INIT;G) fails.  This is a good way of locating bad storage chips after a crash or verifying that the storage is OK before loading some other microprogram.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">9.9.  Power On-Off</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The "Power-On" menu item allows the microprocessor, port, and memory to be powered on and tested in various ways.  The first "Power-On" subsidiary menu shows the following:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">Processor</span><span class="tab" val="24"></span><span style="font: 10pt serif">Turn on processor and port power only.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">Memory</span><span class="tab" val="24"></span><span style="font: 10pt serif">Turn on memory and port power only and configure memory.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">Both</span><span class="tab" val="24"></span><span style="font: 10pt serif">Turn on port, processor, and memory cabinets&rsquo; power.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span class="tab" val="24"></span><span style="font: 10pt serif">Test-Port-&-Processor</span><span class="tab" val="24"></span><span style="font: 10pt serif">Repeatedly execute the maintenance interface operations for<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">turning on port and processor power (for debugging power<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">control hardware).</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span class="tab" val="24"></span><span style="font: 10pt serif">Test-Memory-Cabinet</span><span class="tab" val="24"></span><span style="font: 10pt serif">Query for a memory cabinet number, then repeatedly execute<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">the I/O instructions for powering on the memory cabinet.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">After the processor is turned on, the local memories (IM, SM, DM, DM1, DM2) are zeroed to prevent parity errors from occurring.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">When "Memory" or "Both" is bugged, another subsidiary menu will come up showing the various options for enabling/disabling error correction, core-zeroing, and FER on memory errors.  For normal use by Tenex, let the default action take place for all of these options, and immediately bug the "do-it" menu item.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Power on takes about 15 seconds because the power supplies take a while to stabilize.  After power-on the interrupt system is cleared and the flag register is zeroed.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The right-most four nine-bit bytes in CONFIG (appears on the Midas display) control the memory configuration as follows:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span class="tab" val="24"></span><span style="font: 10pt serif">bits 0-8</span><span class="tab" val="24"></span><span style="font: 10pt serif">represent quadrant J<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">bits 9-17</span><span class="tab" val="24"></span><span style="font: 10pt serif">represent quadrant K<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">bits 18-26</span><span class="tab" val="24"></span><span style="font: 10pt serif">represent quadrant L<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">bits 27-35</span><span class="tab" val="24"></span><span style="font: 10pt serif">represent quadrant M</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">A "1" in the byte enables cabinet 0, "2" cabinet 1, "4" cabinet 2, ..., "200" cabinet 7.  Hence, CONFIG might be set as follows:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span class="tab" val="24"></span><span style="font: 10pt serif">3003003003</span><span class="tab" val="24"></span><span style="font: 10pt serif">All four quadrants active in cabinets 0 and 1 (would result in 256K<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">four-quadrant configuration)</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span class="tab" val="24"></span><span style="font: 10pt serif">17017017017</span><span class="tab" val="24"></span><span style="font: 10pt serif">All four quadrants active in cabinets 0-3 (would result in 512K four-<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">quadrant configuration)</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span class="tab" val="24"></span><span style="font: 10pt serif">3000003003</span><span class="tab" val="24"></span><span style="font: 10pt serif">Quadrant K disabled, but cabinets 0 and 1 active (would result in<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">128K two-quadrant configuration avoiding quadrant K)</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Memory power-on does a catastrophic memory reset.  This may occasionally clobber memory words, but this complete reset has been required to unhang the memory on several occasions, due to problems which have not been fixed.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The first "Power-Off" subsidiary menu is analogous to the "Power-On" menu.  Note that the port power will remain on unless you bug "both" because neither the memory nor the processor is operable without the port power being on.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Please be mindful of the following </span><span style="font: italic 10pt serif">terrible danger:</span><span style="font: 10pt serif">  </span><span style="font: bold 10pt serif">The microprocessor, port, and memory power must be turned off before powering down the Alto.</span><span style="font: 10pt serif">  When this rule was violated on two occasions, numerous Alto MI chips were clobbered, apparently due to power transients from the cable.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">To make repairs to the microprocessor, it is sufficient to turn only the processor power off, provided that neither the PMEMI, KMEMI, nor PMAINT cards are disturbed.  For all other maintenance, power down "Both".  If you want to remove the PMAINT card, power off the Maxc processor and memory first, then the Alto disk, and finally, the Alto processor.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">9.10.  Testing Through the Maintenance Interface</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">"Test", "Constructed-Test", and "Test-All" allow the microprocessor to be tested from the Alto through the maintenance interface.  Data patterns for the test are determined from the first subsidiary menu, as follows:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">ZEROES</span><span class="tab" val="24"></span><span style="font: 10pt serif">All-zeroes data<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">ONES</span><span class="tab" val="24"></span><span style="font: 10pt serif">All-ones data<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">CYC1</span><span class="tab" val="24"></span><span style="font: 10pt serif">36-bit word of all zeroes with a single-one bit cycled left one<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">position each iteration<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">CYC0</span><span class="tab" val="24"></span><span style="font: 10pt serif">36-bit cycled zero in word of ones<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">RANDOM</span><span class="tab" val="24"></span><span style="font: 10pt serif">48-bit random numbers<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">SEQUENTIAL</span><span class="tab" val="24"></span><span style="font: 10pt serif">0, 1, ..., sequential numbers<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">ALTZO</span><span class="tab" val="24"></span><span style="font: 10pt serif">Alternating all-ones and all-zeroes patterns<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">ALT-SHOULD-BE</span><span class="tab" val="24"></span><span style="font: 10pt serif">Alternating contents of SHOULD-BE with its ones-complement</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Testing is controlled/described by five addresses on the display as follows:</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span class="tab" val="24"></span><span style="font: 10pt serif">LOW-HIGH</span><span class="tab" val="24"></span><span style="font: 10pt serif">(For memory tests only) contains in bits 0-17 the lowest<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">memory address tested and in bits 18-35 the highest address<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">tested.  Memory tests begin at the low address and seq-<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">uentially test each address up to the high address, then loop.<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">LOOP-COUNT</span><span class="tab" val="24"></span><span style="font: 10pt serif">The number of successful iterations of the test prior to failure<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">or prior to aborting from the keyboard or with the mouse.<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">SHOULD-BE</span><span class="tab" val="24"></span><span style="font: 10pt serif">What the data should have been.</span><span class="tab" val="24"></span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">DATA-WAS</span><span class="tab" val="24"></span><span style="font: 10pt serif">What the data actually was.</span><span class="tab" val="24"></span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">BITS-CHECKED</span><span class="tab" val="24"></span><span style="font: 10pt serif">Mask of bits checked (see below).</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">LOW-HIGH delimits the maximum address range.  If the memory you select has fewer words than HIGH, then the maximum for that memory is used.  This means that the last address tested for a memory test is as follows (assuming LOW-HIGH is left at its normal maximum value):</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">IM</span><span class="tab" val="24"></span><span style="font: 10pt serif">LOOP-COUNT mod 10000 (octal)<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">SM</span><span class="tab" val="24"></span><span style="font: 10pt serif">LOOP-COUNT mod 1000<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">DM</span><span class="tab" val="24"></span><span style="font: 10pt serif">LOOP-COUNT mod 1000<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">DM1</span><span class="tab" val="24"></span><span style="font: 10pt serif">LOOP-COUNT mod 1000<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">DM2</span><span class="tab" val="24"></span><span style="font: 10pt serif">LOOP-COUNT mod 1000<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">RM</span><span class="tab" val="24"></span><span style="font: 10pt serif">LOOP-COUNT mod 40<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">LM</span><span class="tab" val="24"></span><span style="font: 10pt serif">LOOP-COUNT mod 40<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">STK</span><span class="tab" val="24"></span><span style="font: 10pt serif">LOOP-COUNT mod 14</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">"Test-All" automatically loads BITS-CHECKED with a full-sized comparison mask prior to testing each item.  It tests each register 250 times and makes 4 passes through each memory.  It is a good idea to run "Test-All" whenever the hardware is in a suspicious state.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">"Test", after showing the data-pattern menu, shows a menu of register and memory names, and executes a test of the one you select until the test fails or you halt the test from the keyboard.  "Test" masks the current contents of BITS-CHECKED with the maximum-sized mask for the register or memory being tested.  If you previously tested a small register, then you have to manually load BITS-CHECKED with a full-sized mask before testing a big register.  If you don&rsquo;t want to check all the bits in a register, then clear the bits you don&rsquo;t want to check in BITS-CHECKED.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">"Constructed-test" should only be used when the "debug" command file has been loaded.  This requires a sophisticated understanding of the hardware and of the innards of Midas and is not recommended for novices.  Midas makes use of a number of microinstructions while reading, writing, starting, and stopping the microprocessor.  "Constructed-test" allows these microinstructions to be executed in non-standard sequences to beat on particular hardware problems through the maintenance interface.  When using "Constructed-Test", a list of LDR addresses is typed (see DEBUG.MC for the instructions) separated by commas.  If only one LDR address is typed, the maintenance interface&rsquo;s BR register is loaded once with the selected data pattern, then the LDR instruction is repeatedly executed for a scope loop.  When two, three, etc., up to six LDR addresses are typed, a test loop occurs whereby BR is loaded with the next data pattern, the list of instructions is executed, and then BR is read back and compared against the data under control of BITS-CHECKED.  The loop stops when (data-read-back xor data-sent-out) & BITS-CHECKED is non-zero.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">"Field-Loop" exercises signal decoding for particular fields of the microinstruction for scope loops.  A microinstruction is fabricated from a no-op microinstruction in which the field selected from the first subsidiary menu is replaced by various values.  The second subsidiary menu allows the value in the selected field to be incremented, decremented, and shifted.</span><span class="tab" val="24"></span></div>
<script>function do_tabs() { // unit = px
  var tabs = document.getElementsByClassName("tab");
  for (var i = 0; i < tabs.length; ++i) {
    var span = tabs[i];
    var val = span.getAttribute("val");
    if (val == null) console.log("Couldn't get val");
    var rect = span.getBoundingClientRect();
    var tabstop;
    if (val > 0) tabstop = Math.ceil(rect.left / val) * val;
    else tabstop = -val;
    console.log("do_tabs", val, tabstop)
    if (tabstop > 0) {
      var width = tabstop - rect.left;
      span.style.display = "inline-block";
      span.style.width = width + "px";
    }
  }
}
do_tabs();
</script>
  </body>
</html>
