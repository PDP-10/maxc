<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>[Indigo]&lt;Maxc>MaxcOperations0-20Bravo.Dm!5>MaxcOps15.Bravo</title>
  </head>
  <body>
    <div style="width: 405pt; margin-left: 121pt; margin-top: 0pt; text-align: left">
<span style="font: 10pt serif">Page Numbers: Yes   X: 527   Y: 10.5" First Page: 53<br>Columns: 1   Edge Margin: .4"   Between Columns: .4"<br>Margins:   Top: 1.3"   Bottom: 1"<br>Line Numbers: No   Modulus: 5   Page-relative<br>Odd Heading:</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span style="font: bold 12pt serif">Maxc Operations</span><span class="tab" val="24"></span><span style="font: bold italic 10pt serif">BSYS Operation</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">Even Heading:</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="tab" val="24"></span><span style="font: bold italic 10pt serif">BSYS Operation</span><span class="tab" val="24"></span><span style="font: bold 12pt serif">Maxc Operations</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: center">
<span style="font: bold 10pt serif">15.  BSYS OPERATION</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">This section describes normal operating procedures for backup and archiving by means of BSYS.  Further information on BSYS commands may be obtained from the document "BSYS - Tenex Backup System" by Smokey Wallace, a copy of which is kept in the Maxc room book case.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">One should be aware of what procedures can and cannot be performed simultaneously.  Only one dump of any kind (incremental or full dump, archiving, or backup to tape) can be in progress at a time.  However, it is ok to perform archive retrieval (or retrieval of files from backup) at the same time as a dump.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: left">
<span style="font: bold 10pt serif">15.1.  Backup Procedures</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">A full dump of the file system is performed approximately once a month, and incremental dumps every weekday, onto disk packs mounted on auxiliary drives.  At present, the backup packs consist of three sets of packs for full dumps and enough packs for incremental dumps to last about a month.  Successive full dumps alternate between the three sets of full dump packs, and the incremental dump packs are then recycled until they are all rewritten with data more recent than the last full dump, at which point it is necessary to perform another full dump.  This procedure ensures that (1) if the file system is wiped out, it will be possible to restore it to its state at the time of the last incremental dump, and (2) if a user loses a file and notices its loss within one month, it will be recoverable.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Immediately following a full dump, the last set on which a full dump was performed will be rotated with the third set of full dump packs which are stored in Bldg. 37 (Ginn Building) archive area as a </span><span style="font: italic 10pt serif">fire safe set.</span><span style="font: 10pt serif">  This will provide protection in the event of disaster.  There will always be two full dump sets in the Maxc room (the most recent and the third most recent) and the second most recent will be the </span><span style="font: italic 10pt serif">fire safe set.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">In addition to full and incremental dumps, a full backup to tapes is performed once every three months and the tapes stored in Building 34.  This provides additional backup in case of a catastrophe such as a fire in the machine room.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">BSYS is organized around the use of tapes as the backup medium.  Disk packs have been interfaced to BSYS at a very low level, with the result that most of BSYS still thinks it is dealing with tapes.  The backup packs are laid out in a manner that allows several logical "tapes" to be stored on each one.  Every such "tape" has a "tape number" (just as with real tapes) whose format is "xxxyy", where xxx is the pack number and yy is the logical "tape" number (or "dump number") on that pack.  Hence, "Parc tape number 21402" means the second dump on pack number 214.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">When a full dump is performed, each pack contains a single logical "tape", since every pack except the last is completely filled by its respective portion of the full dump.  An incremental dump, on the other hand, typically fills somewhat less than one pack.  Hence it is possible to write incremental dumps for several successive days onto a single pack.  When a pack becomes full, the last incremental dump will usually be split between the last logical "tape" on that pack and the first "tape" on the next pack.  This is ok since each "tape" has its own directory and is completely self-contained.  (However, the last incremental dump pack should not be allowed to overflow for obvious reasons.)</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">A record of usage of full and incremental dump packs is posted on the Maxc room bulletin board.  It should be kept up to date.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 20pt; text-align: left">
<span style="font: bold 10pt serif">15.2.</span><span class="tab" val="24"></span><span style="font: bold 10pt serif">Incremental Dumps</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Every working day, an incremental dump should be performed, preferably during periods of light Maxc load (e.g. before 8 am or after 5 pm).  The procedure is as follows.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">1.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Consult the "Incremental Dumps" chart to determine the pack currently being used for incremental dumps.  Mount that pack on any free drive.  Wait for it to be on-line before starting BSYS.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">2.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Login as someone with "wheel" or "operator" capabilities and execute the following procedure (user typein is underlined):</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">@</span><span style="font: 10pt serif; text-decoration: underline">ENABLE password &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">CONNECT BSYS &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">BSYS &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">TENEX BSYS 4.03 23-MAY-75<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">*</span><span style="font: 10pt serif; text-decoration: underline">INC&lt;esc&gt;</span><span style="font: 10pt serif">REMENTAL DUMP (CHANGED FILES) </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Dump since t&d? </span><span style="font: 10pt serif; text-decoration: underline">N</span><span style="font: 10pt serif">o </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Entire file system? </span><span style="font: 10pt serif; text-decoration: underline">Y</span><span style="font: 10pt serif">es </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">3.</span><span class="tab" val="24"></span><span style="font: 10pt serif">You will now be asked to "Enter backup device (mtan:, dpkn:)".  Here you should enter DPKn, where n is the unit number (drive A is unit 0, B is unit 1, ... H is unit 7).  Then you will be asked for the pack number.  When you supply this, BSYS will attempt a Tenex "Mount" of the pack.  Assuming this is successful, one or more of the following things will happen:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">a)</span><span class="tab" val="24"></span><span style="font: 10pt serif">"Pack has no home block.  Do you want to initialize the home block?"  This should happen only for a freshly-initialized pack, i.e. one that has not been used for backup before.  Since all our backup packs have been used many times, you should not see this question.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">b)</span><span class="tab" val="24"></span><span style="font: 10pt serif">"Home block type is xxxxx.  Do you want to initialize the home block?"  The mounted pack has been used for some other purpose and should probably not be used as a backup pack.  (This is especially true if xxxxx is "TENEX"!)</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">c)</span><span class="tab" val="24"></span><span style="font: 10pt serif">"n dumps already written on this pack", followed by a list of the dates and times of the dumps, followed by "Do you want to overwrite these dumps?"  If you are appending to the pack that was used in the previous day&rsquo;s incremental dump (i.e. the most recent date printed out is yesterday), you should answer "No".  If you are recycling a pack from the previous month (i.e. the dates printed are on the order of a month ago), you should answer "Yes".</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">d)</span><span class="tab" val="24"></span><span style="font: 10pt serif">If the number of free pages on the pack is less than 2000 and you answered "No" to the question about overwriting existing dumps, BSYS will say "Insufficient room for more dumps" and will ask you to mount another pack (on the same drive).  The reason for this check is to ensure that it will be possible to write the file &lt;SYSTEM&gt;DIRECTORY on the first logical "tape" of this dump.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">4.</span><span class="tab" val="24"></span><span style="font: 10pt serif">BSYS will then ask "Listing to file:".  We keep incremental dump listings on the BSYS directory in files named BSYS/mm-dd-yy.INC, where mm-dd-yy is today&rsquo;s date.  So you should respond with, for example, "BSYS/7-25-75.INC&lt;cr&gt;".</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">5.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Finally, BSYS will ask you to "Enter tape id:".  You should respond with the same string as you gave for the listing filename, e.g. "BSYS/7-25-75.INC&lt;cr&gt;".</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">6.</span><span class="tab" val="24"></span><span style="font: 10pt serif">The dump should now proceed.  BSYS prints a summary of files and pages dumped for each directory (more detailed information is sent to the listing file).</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">7.</span><span class="tab" val="24"></span><span style="font: 10pt serif">If the pack becomes full, BSYS will once again request you to "Enter backup device (dpkn:, mtan:)".  You should dismount the pack, mount the next incremental dump pack, and repeat step 3 above.  In this case, you should always answer "Yes" to the question "Do you want to overwrite these dumps?" since you are recycling an old incremental dump pack.  Be sure to update the chart on the bulletin board.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">8.</span><span class="tab" val="24"></span><span style="font: 10pt serif">When the incremental dump is finished, BSYS will type an asterisk.  The last step of the daily backup procedure is to do an "Expunge" on all directories:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">*</span><span style="font: 10pt serif; text-decoration: underline">QUIT &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">DISCUSE &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif"> SYSTEM TOTAL: 6679 PAGES LEFT, 129401 USED<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">EXPFILES &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">[Long pause while expunges are done]<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">DISCUSE &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif"> SYSTEM TOTAL: 9475 PAGES LEFT, 126705 USED<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">9.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Tear off the listing and put it in the filing cabinet.  </span><span style="font: italic 8pt serif">(Fanfold to 8.5" x 11" for filing.)</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">10.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Occasionally you should delete obsolete incremental dump listing files, i.e., ones for dumps that have been overwritten.  This is most conveniently done using the program DELBSYSINC (on the BSYS directory).  It requests a date and deletes all files of the form BSYS/mm-dd-yy.INC in which mm-dd-yy is earlier than the date specified.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">15.3.  Full Dumps</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The full dump procedure takes 6 to 8 hours depending on load, so it is usually run during the day (unless you plan to be at Parc all night anyway).</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">1.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Consult the "Full Dumps" chart and select the least recently used set of full dump packs.  Be sure to update the chart.  Mount the first pack on any free drive.  Wait for it to be on-line before starting BSYS.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">2.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Login as someone with "wheel" or "operator" capabilities and execute the following procedure (user typein is underlined):</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">@</span><span style="font: 10pt serif; text-decoration: underline">ENABLE password &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">CONNECT BSYS &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">BSYS &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">TENEX BSYS 4.03 23-MAY-75<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">*</span><span style="font: 10pt serif; text-decoration: underline">FULL&lt;esc&gt;</span><span style="font: 10pt serif"> DUMP (ENTIRE FILE SYSTEM) </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">3.</span><span class="tab" val="24"></span><span style="font: 10pt serif">You will now be asked to "Enter backup device (mtan:, dpkn:)".  Here you should enter DPKn, where n is the unit number (drive A is unit 0, B is unit 1, ... H is unit 7).  Then you will be asked for the pack number.  When you supply this, BSYS will attempt a Tenex "Mount" of the pack.  Assuming this is successful, one or more of the following things will happen:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">a)</span><span class="tab" val="24"></span><span style="font: 10pt serif">"Pack has no home block.  Do you want to initialize the home block?"  This should happen only for a freshly-initialized pack, i.e. one that has not been used for backup before.  Since all our backup packs have been used many times, you should not see this question.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">b)</span><span class="tab" val="24"></span><span style="font: 10pt serif">"Home block type is xxxxx.  Do you want to initialize the home block?"  The mounted pack has been used for some other purpose and should probably not be used as a backup pack.  (This is especially true if xxxxx is "TENEX"!)</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">c)</span><span class="tab" val="24"></span><span style="font: 10pt serif">"n dumps already written on this pack", followed by a list of the dates and times of the dumps, followed by "Do you want to overwrite these dumps?"  The dates printed out should be aproximately two months old.  Since you are re-using a full dump pack, you should answer "Yes" to this question.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">4.</span><span class="tab" val="24"></span><span style="font: 10pt serif">BSYS will then ask "Listing to file:".  We keep full dump listings on the BSYS directory in files named BSYS/mm-dd-yy.FULL, where mm-dd-yy is today&rsquo;s date.  So you should respond with, for example, "BSYS/7-25-75.FULL&lt;cr&gt;".</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">5.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Finally, BSYS will ask you to "Enter tape id:".  You should respond with the same string as you gave for the listing filename, e.g. "BSYS/7-25-75.FULL&lt;cr&gt;".</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">6.</span><span class="tab" val="24"></span><span style="font: 10pt serif">The dump should now proceed.  BSYS prints a summary of files and pages dumped for each directory (more detailed information is sent to the listing file).</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">7.</span><span class="tab" val="24"></span><span style="font: 10pt serif">When the pack becomes full, BSYS will once again request you to "Enter backup device (dpkn:, mtan:)".  You should dismount the pack, mount the next full dump pack, and repeat step 3 above.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">8.</span><span class="tab" val="24"></span><span style="font: 10pt serif">When the full dump is finished, BSYS will type an asterisk.  The last step of the monthly backup procedure is to do an "Expunge" on all directories:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">*</span><span style="font: 10pt serif; text-decoration: underline">QUIT &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">DISCUSE &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif"> SYSTEM TOTAL: 6679 PAGES LEFT, 129401 USED<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">EXPFILES &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">[Long pause while expunges are done]<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">DISCUSE &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif"> SYSTEM TOTAL: 9475 PAGES LEFT, 126705 USED<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">9.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Tear off the listing and put it in the filing cabinet.  </span><span style="font: italic 8pt serif">(Fanfold to 8.5" x 11" for filing.)</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">10.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Delete the listing file for the full dump that has just been overwritten.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: justify">
<span style="font: bold 10pt serif">15.4.  Full Backup to Tape</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The procedure for backup to tape, performed quarterly, is identical to the full dump procedure with the following exceptions:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">1.</span><span class="tab" val="24"></span><span style="font: 10pt serif">The first command issued to BSYS should be "BACKUP" rather than "FULL".</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">2.</span><span class="tab" val="24"></span><span style="font: 10pt serif">The answer to "Enter backup device (mtan:, dpkn:)" should be MTS:MAGGIE.</span><span style="font: italic 10pt serif">n</span><span style="font: 10pt serif">, where </span><span style="font: italic 10pt serif">n</span><span style="font: 10pt serif"> is the tape unit on which the backup tape is mounted.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">3.</span><span class="tab" val="24"></span><span style="font: 10pt serif">The listing file should be BSYS/mm-dd-yy.BACKUP.  After completion of the dump, this file should be printed in a small font (Gacha6R90) and then deleted.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: left">
<span style="font: bold 10pt serif">15.5.  Continuing Interrupted Dumps</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">BSYS records its state at the beginning of each logical "tape".  If Maxc crashes in the middle of a dump, this information may be used to restart the dump at the appropriate point. The procedure is as follows:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">1.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Do </span><span style="font: italic 10pt serif">not</span><span style="font: 10pt serif"> change packs or tapes, even if the dump began on a pack or tape different from the one currently mounted.  (Exception:  If BSYS already asked for a new tape or pack before the crash occurred, change tapes or packs first.)</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">2.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Start BSYS and issue the "Continue Dump" command.  Your responses to the questions "Enter backup device" and the ones that follow should be the same as the answers you </span><span style="font: italic 10pt serif">most recently</span><span style="font: 10pt serif"> gave to the same questions.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">3.</span><span class="tab" val="24"></span><span style="font: 10pt serif">BSYS will print "Restarting at user xxxxx" and resume the dump (incremental, full, or backup).</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: left">
<span style="font: bold 10pt serif">15.6.  Restoring Files from Backup</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Individual files may be restored from backup packs by the following procedure.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">1.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Determine where the file was written, by poking around in the listing files (.FULL and .INC).  When you have located in the listing file the name of the file to be restored, go up to the top of the page to find the "Parc tape number", which will be in the form xxxyy, where xxx is the pack number and yy the dump number as previously explained.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">2.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Mount the pack so determined on an auxiliary drive.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">3.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Go through the following dialogue (xxx and yy are the numbers determined above):</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">@</span><span style="font: 10pt serif; text-decoration: underline">ENABLE password &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">BSYS &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">TENEX-BSYS 4.03 25-MAY-75<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">*</span><span style="font: 10pt serif; text-decoration: underline">RES&lt;esc&gt;</span><span style="font: 10pt serif">TORE FILES (FROM TAPE) </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Enter backup device (mtan:, dpkn:)  </span><span style="font: 10pt serif; text-decoration: underline">DPKn &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Mount pack number: </span><span style="font: 10pt serif; text-decoration: underline">xxx &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Pack xxx mounted<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">n dumps already written on this pack<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">[Listing of dump numbers and dates]<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">nnn free pages<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Enter dump # </span><span style="font: 10pt serif; text-decoration: underline">yy &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Listing to file: </span><span style="font: 10pt serif; text-decoration: underline">TTY: &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Mounting tape directory</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">4.</span><span class="tab" val="24"></span><span style="font: 10pt serif">BSYS will now prompt you with "Restore DPKn:", to which you should respond with the full filename to be restored (including directory).  Editing and recognition may be used and "*" may appear in any field;  however, BSYS&rsquo;s filename logic is not as good as Tenex&rsquo;s, and you should be careful to specify a complete filename (including version) before hitting carriage return.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">5.</span><span class="tab" val="24"></span><span style="font: 10pt serif">After restoring the specified file(s), BSYS will again prompt with "Restore DPKn:", and further files in the same dump on the same pack may be restored.  When you have no more files to restore, hit Delete.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: left">
<span style="font: bold 10pt serif">15.7.  Restoring the Entire File System</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">This is the procedure to be followed if the file system has been wiped out and it is necessary to restore it from backup.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">1.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Load Tenex using Micro-Exec, go into EDDT, set DBUGSW to 2, and start the system at SYSLOD.  To the question "Do you really want to clobber the disc by re-initializing?" answer "Y".  After some amount of churning and various error messages ("No SYSJOB", "No EXEC", etc.) you will end up in the Mini-Exec.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">2.</span><span class="tab" val="24"></span><span style="font: 10pt serif">A copy of BSYS is kept on Save Area 4, so to load and start it:</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">.</span><span style="font: 10pt serif; text-decoration: underline">L</span><span style="font: 10pt serif">oad program from area </span><span style="font: 10pt serif; text-decoration: underline">4.</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">.</span><span style="font: 10pt serif; text-decoration: underline">S</span><span style="font: 10pt serif">tart</span><span style="font: 10pt serif; text-decoration: underline">.</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">TENEX-BSYS 4.03 25-MAY-75<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">*</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">3.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Consult the summary from the most recent incremental dump to determine the logical "tape" on which that dump started.  This is in the form xxxyy, where xxx is the pack number and yy the dump number on that pack.  Mount the pack.  Note that </span><span style="font: italic 10pt serif">this might not be the current incremental dump pack</span><span style="font: 10pt serif">.  (If there have been </span><span style="font: italic 10pt serif">no</span><span style="font: 10pt serif"> incremental dumps since the most recent full dump, then just mount the </span><span style="font: italic 10pt serif">first</span><span style="font: 10pt serif"> pack of that full dump.)</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">4.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Go through the following dialogue:</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">*</span><span style="font: 10pt serif; text-decoration: underline">RES&lt;esc&gt;</span><span style="font: 10pt serif">TORE FILES (FROM TAPE) </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Enter backup device (mtan:, dpkn:)  </span><span style="font: 10pt serif; text-decoration: underline">DPKn &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Mount pack number: </span><span style="font: 10pt serif; text-decoration: underline">xxx &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Pack xxx mounted<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">n dumps already written on this pack<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">[Listing of dump numbers and dates]<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">nnn free pages<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Enter dump # </span><span style="font: 10pt serif; text-decoration: underline">yy &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Listing to file: </span><span style="font: 10pt serif; text-decoration: underline">NIL: &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Mounting tape directory<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Restore DPKn: </span><span style="font: 10pt serif; text-decoration: underline">&lt;*&gt;*.*;* &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Create users? </span><span style="font: 10pt serif; text-decoration: underline">Y</span><span style="font: 10pt serif">es </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Creating users...<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Bypass restore checks? </span><span style="font: 10pt serif; text-decoration: underline">N</span><span style="font: 10pt serif">o </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">5.</span><span class="tab" val="24"></span><span style="font: 10pt serif">BSYS first obtains a copy of the &lt;SYSTEM&gt;DIRECTORY that was written in this dump.  This directory is used to control what files get restored from this and all other backup packs, and is also used to restore the correct file attributes.  This is why it is important that the first dump restored be the first logical "tape" of the most recent incremental dump.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">6.</span><span class="tab" val="24"></span><span style="font: 10pt serif">BSYS now restores all appropriate files from the dump, then asks "More tapes?" to which you should answer "Y".  You should now specify the previous dump on the same pack, or the last dump on the previous pack.  You must restore </span><span style="font: italic 10pt serif">all the dumps</span><span style="font: 10pt serif"> on each of the most recent full dump packs and on each of the incremental dump packs more recent than the last full dump.  It is </span><span style="font: italic 10pt serif">essential</span><span style="font: 10pt serif"> that the incremental dumps be restored in reverse chronological order, and that all incremental dumps be restored before any full dump.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">7.</span><span class="tab" val="24"></span><span style="font: 10pt serif">When all files have been restored, answer "N" to "More tapes?"; then give the "Quit" command to exit BSYS and the Mini-Exec "Halt Tenex" command to stop the system.  Now reload and start Tenex in the normal fashion.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">BSYS also has a "RELOAD DIRECTORIES" command that may be used to restore the entire contents of one or more user directories from backup, but less than the entire system.  You should start by reloading the first pack of the most recent incremental dump, just as for the full restore.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: left">
<span style="font: bold 10pt serif">15.8.  Archive Procedures</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">When users request that files be archived, the files are simply marked for archiving.  Twice a week (generally on Monday and Thursday), BSYS is run to archive these files onto two different tapes and then delete the files from disk (if appropriate).  At any given moment, there are two "current" archive tapes.  Files from successive weeks are appended onto these tapes until they become full.  The tapes then have their write rings removed and are kept "forever", and new tapes are used for further requests.</span><span class="tab" val="24"></span><span style="font: 10pt serif"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The effect of archiving a file twice is obtained by simply running the archive system twice, once with the first "current" tape mounted and once with the second.  Generally, both tapes will end up containing the same information.  However, occasionally a user will make a new request between the first archive run and the second.  In this case, the file gets archived for the first time on the second tape and for the second time on the first tape next week.  Hence the archive tapes may not be simply copies of each other.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">When a user requests that an archived file be retrieved, the retrieval request is recorded in two places.  File &lt;SYSTEM&gt;RETRIEVE-REQUESTS.TXT is a human-readable text file containing all relevant information (filename, tape numbers, requesting user, etc.)  This file is deleted once a week.  File &lt;SYSTEM&gt;RETRIEVE-REQUESTS.BINARY contains the same information in a form readable by BSYS.  Every working day, BSYS is run to process accumulated retrieval requests and restore archived files from tape to disk.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 24pt; text-align: left">
<span style="font: bold 10pt serif">15.9.  Organization of the Archive Tapes</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The archive tapes are consecutively numbered starting at 700.</span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span style="font: 10pt serif">  First and second archive tapes are paired.  Each tape is labelled with an identifier such as "BSYS/7-21-75.ARC/1" or "BSYS/7-21-75.ARC/2", where the date specified is the starting date for that tape, and the trailing digit distinguishes the first archive tape from the second.  When an archive tape is full, the date on which it became full is also written on the label, and the write ring is removed.  (Actually, we usually do this before the tape has become completely full so as to avoid having archive runs split across two tapes.  However, no harm arises if this occurs.)</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The tape is also marked with the tape unit on which it was written.  When possible, files should be appended to a tape using the same drive on which the tape was first written, and first and second archive tapes should be written on different drives.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The archive tapes are located in tape cabinets situated in the Maxc control room.  Primary tapes are in the cabinets on the east wall and backup tapes are in the cabinets on the west wall.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 24pt; text-align: left">
<span style="font: bold 10pt serif">15.10.  Archiving Files to Tape</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Twice a week </span><span style="font: italic 8pt serif">(preferably Monday and Thursday)</span><span style="font: 10pt serif">, the following procedure should be followed to write files onto the archive tapes.  User typein is underlined.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">1.</span><span class="tab" val="24"></span><span style="font: 10pt serif">If the newest "first archive" tape (marked ".ARC/1") is not full (i.e. has no ending date), make sure there is a write ring in it and mount it on the drive noted on the label.  If it is full, mount the first unused tape on unit 0 (if possible).</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">2.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Login as yourself (assuming you are a wheel or operator; otherwise login as SYSTEM) and go through this dialogue:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 8pt serif">------------------------------<br></span><span style="font: 8pt serif; vertical-align: 4pt">1</span><span style="font: 8pt serif">Tape number 999 was used on 6-28-79.  At this point old tapes were scrounged up and the sequential numbering system went to pot.  Tapes numbered 671 through 687 cover the period 6-28-79 to 8-28-79.  Tapes numbered 039 through 540 cover the period 9-2-79 to 6-26-80.  At this point new tapes were purchased and put into use.  They are numbered from 1001 and continue consecutively.</span><span class="tab" val="24"></span><span style="font: 10pt serif"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 3pt; text-align: left">
<span class="tab" val="24"></span><span style="font: 10pt serif">@</span><span style="font: 10pt serif; text-decoration: underline">ENABLE password &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">!</span><span style="font: 10pt serif; text-decoration: underline">BSYS &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">TENEX BSYS 4.03 23-MAY-75<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">*</span><span style="font: 10pt serif; text-decoration: underline">ARC&lt;esc&gt;</span><span style="font: 10pt serif">HIVE (USER FILES) </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Archival period (days) = </span><span style="font: 10pt serif; text-decoration: underline">999999 &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Listing only? </span><span style="font: 10pt serif; text-decoration: underline">N</span><span style="font: 10pt serif">o </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Listing to file: </span><span style="font: 10pt serif; text-decoration: underline">LPT: &lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Entire file system? </span><span style="font: 10pt serif; text-decoration: underline">Y</span><span style="font: 10pt serif">es </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">List for users? </span><span style="font: 10pt serif; text-decoration: underline">Y</span><span style="font: 10pt serif">es </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Preface with special message? </span><span style="font: 10pt serif; text-decoration: underline">N</span><span style="font: 10pt serif">o </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Enter backup device (mtan:, dpkn:)  </span><span style="font: 10pt serif; text-decoration: underline">MTS:MAGGIE.</span><span style="font: italic 10pt serif; text-decoration: underline">n</span><span style="font: 10pt serif; text-decoration: underline"> &lt;cr&gt;</span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">where </span><span style="font: italic 10pt serif">n</span><span style="font: 10pt serif"> is unit no.<br></span><span class="tab" val="24"></span><span style="font: 10pt serif">Density (n=800, p=1600): </span><span style="font: 10pt serif; text-decoration: underline">P</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">3.</span><span class="tab" val="24"></span><span style="font: 10pt serif">BSYS will now ask "New tape?".  If you have mounted a new tape, answer "Yes";  BSYS will then ask you to supply the tape number.  Otherwise, answer "No";  BSYS will ask you to verify that there is a write ring in the mounted tape.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">4.</span><span class="tab" val="24"></span><span style="font: 10pt serif">BSYS will now space to the end of the used portion of the tape (if any) and start writing new files.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">5.</span><span class="tab" val="24"></span><span style="font: 10pt serif">If the tape becomes full, BSYS will rewind it and again ask "Enter backup device (mtan:, dpkn:)".  You should label the tape as full, remove its write ring, and put it away.  Then mount the first unused tape (</span><span style="font: italic 10pt serif">NOT the "second" archive tape</span><span style="font: 10pt serif">) on the same drive, and go through this procedure:</span></div>
<div style="width: 382pt; margin-left: 144pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Enter backup device (mtan:, dpkn:)  </span><span style="font: 10pt serif; text-decoration: underline">MTS:MAGGIE.</span><span style="font: italic 10pt serif; text-decoration: underline">n</span><span style="font: 10pt serif; text-decoration: underline"> &lt;cr&gt;</span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">where </span><span style="font: italic 10pt serif">n</span><span style="font: 10pt serif"> is unit no.<br>Density (n=800, p=1600): </span><span style="font: 10pt serif; text-decoration: underline">P</span><span style="font: 10pt serif"><br>New tape?  </span><span style="font: 10pt serif; text-decoration: underline">Y</span><span style="font: 10pt serif">es </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br>Really?? </span><span style="font: 10pt serif; text-decoration: underline">Y</span><span style="font: 10pt serif">es </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br>Parc tape number: </span><span style="font: 10pt serif; text-decoration: underline">nnnn &lt;cr&gt;</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Be sure to label the new tape properly.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">6.</span><span class="tab" val="24"></span><span style="font: 10pt serif">When the archive run is finished, BSYS will report the number of files and pages archived.  Dismount the archive tape and put it away.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">7.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Repeat the entire procedure (steps 2-6) to write the "second" archive tape, using the tape marked ".ARC/2" if you append to an existing tape, and using tape unit 3 if possible.  If the second archive tape becomes full and you get to step 5, be careful to use </span><span style="font: italic 10pt serif">another</span><span style="font: 10pt serif"> new tape to continue archiving on.  That is, don&rsquo;t append to the new archive tape written on during the first archive.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">8.</span><span class="tab" val="24"></span><span style="font: 10pt serif">If either archive tape is almost full (less than 1/2 inch of unused tape thickness on the reel), mark both tapes as full and remove their write rings before putting them away.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">9.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Go to the Clover room, collect the two listings, and store them in the tape cabinet.  At the end of each month bind the listings into a book using the Cheshire 750 Binder.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">Normally, we archive only those files specifically marked by users for archiving.  However, it is occasionally necessary to perform "forced" archiving of all files not referenced within the last </span><span style="font: italic 10pt serif">n</span><span style="font: 10pt serif"> days (</span><span style="font: italic 10pt serif">n</span><span style="font: 10pt serif"> is generally 90).  The procedure for forced archiving is identical to the normal archiving procedure with the following exceptions:</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">1.</span><span class="tab" val="24"></span><span style="font: 10pt serif">The reply to "Archival period (days) =" should be 90 (or whatever interval is being used) rather than 999999.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">2.</span><span class="tab" val="24"></span><span style="font: 10pt serif">The reply to "Preface with special message?" should be "Yes".  BSYS will then give control to SNDMSG, to which you should type an appropriate explanatory message, such as "This archive includes all files not referenced in the past 90 days.  New users will find useful information pertaining to how the archive system works by reading the file [Maxc]&lt;DOC&gt;Archive-System.Doc.", followed by control-Z.</span><span class="tab" val="24"></span></div>
<div style="width: 390pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: bold 10pt serif; text-decoration: underline">CAUTION</span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">If the system crashes during Archive, restart Tenex and type Continue<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">Dump to Bsys.  If the crash occurred while writing a tape and the<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">directory has not been written, then remount that tape to continue the<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">dump.  If it has written the Archive Directory and was waiting for a<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">new tape to be mounted then mount the new tape and the continuation<br></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">will be correct.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 36pt; text-align: left">
<span style="font: bold 10pt serif">15.11.  Retrieving Files from Tape</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">The following procedure should be executed once every working day to retrieve files from the archive tapes.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">1.</span><span class="tab" val="24"></span><span style="font: 10pt serif">Login as yourself (assuming you are a wheel or operator; otherwise login as SYSTEM) and go through this dialogue:</span><span class="tab" val="24"></span></div>
<div style="width: 382pt; margin-left: 144pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">@</span><span style="font: 10pt serif; text-decoration: underline">ENABLE password &lt;cr&gt;</span><span style="font: 10pt serif"><br>!</span><span style="font: 10pt serif; text-decoration: underline">BSYS &lt;cr&gt;</span><span style="font: 10pt serif"><br>TENEX BSYS 4.03 23-MAY-75<br>*</span><span style="font: 10pt serif; text-decoration: underline">RET&lt;esc&gt;</span><span style="font: 10pt serif">RIEVE (ARCHIVED FILES) </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span><span style="font: 10pt serif"><br>Process retrieval requests for all users? </span><span style="font: 10pt serif; text-decoration: underline">Y</span><span style="font: 10pt serif">es </span><span style="font: 10pt serif; text-decoration: underline">&lt;cr&gt;</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">2.</span><span class="tab" val="24"></span><span style="font: 10pt serif">BSYS now sorts through all pending retrieval requests and tells you which tapes to mount:</span></div>
<div style="width: 382pt; margin-left: 144pt; margin-top: 12pt; text-align: left">
<span style="font: 10pt serif">Mount Parc tape number nnn<br>Enter backup device (mtan:, dpkn:)  </span><span style="font: 10pt serif; text-decoration: underline">MTS:MAGGIE.</span><span style="font: italic 10pt serif; text-decoration: underline">n</span><span style="font: 10pt serif; text-decoration: underline"> &lt;cr&gt;</span><span class="tab" val="24"></span><span class="tab" val="24"></span><span class="tab" val="24"></span><span style="font: 10pt serif">where </span><span style="font: italic 10pt serif">n</span><span style="font: 10pt serif"> is unit no.<br>Density (n=800, p=1600) </span><span style="font: 10pt serif; text-decoration: underline">P</span><span style="font: 10pt serif"><br>[Following question asked only the first time]<br>Listing to file: </span><span style="font: 10pt serif; text-decoration: underline">TTY: &lt;cr&gt;</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">3.</span><span class="tab" val="24"></span><span style="font: 10pt serif">BSYS automatically restores all requested files from the mounted tapes, and automatically notifies users via SNDMSG.  When BSYS is done, it prints an asterisk.</span><span class="tab" val="24"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 12pt; text-align: justify">
<span style="font: 10pt serif">If anything goes wrong during the retrieval process, it is possible to retrieve files from the second archive tape.  You may first have to issue an Interrogate command for the files that were not retrieved from the first tape.  Then run BSYS Retrieve in the normal way, but when it asks you to mount the first archive tape, mount the second one instead.  BSYS will tell you that you mounted the wrong tape, but will go ahead anyway, if you tell it to.  (</span><span style="font: italic 10pt serif">Second archive tapes not found in tape cabinets are stored in boxes in the Maxc machine room behind Maxc1 disk drives.</span><span style="font: 10pt serif">)</span><span class="tab" val="24"></span></div>
<script>function do_tabs() { // unit = px
  var tabs = document.getElementsByClassName("tab");
  for (var i = 0; i < tabs.length; ++i) {
    var span = tabs[i];
    var val = span.getAttribute("val");
    if (val == null) console.log("Couldn't get val");
    var rect = span.getBoundingClientRect();
    var tabstop;
    if (val > 0) tabstop = Math.ceil(rect.left / val) * val;
    else tabstop = -val;
    console.log("do_tabs", val, tabstop)
    if (tabstop > 0) {
      var width = tabstop - rect.left;
      span.style.display = "inline-block";
      span.style.width = width + "px";
    }
  }
}
do_tabs();
</script>
  </body>
</html>
