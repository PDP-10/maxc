<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>File [Indigo]&lt;Maxc>maxc12diag.dm!1>dg1.mc</title>
  </head>
  <body>
    <pre>
ER[DG1];TARGET[ILC];%DG1, NORMALLY ASSEMBLED WITH DG0, TESTS THE MEMORIES ON BASIC PATTERNS,THE F-REGISTER, AND FUNCTIONS DEPENDENT ON MEMORIES OR F-REGISTER.IT MUST BE ASSEMBLED BEFORE DG2A FOR MAXC1 OR DG2B FOR MAXC2.%  *TEST ADDRESSING FROM X AND DATA STORAGE OF BOTH LB AND RBLRXT:	Q&larr;A1, CALL[Q5], P&larr;NULL;	Y&larr;Q, Q&larr;P+1;		*Y HOLDS 37 DURING THE REMAINDER OF THE				*RB AND LB TESTS*FIRST TEST THE REGISTERS ON THE 36 PATTERNS WHICH CONTAIN A SINGLE 1*WITH 35 ZEROES.  THE PATTERN IS LCY'ED 1 IN PASSING FROM REGISTER TO REGISTER	X&larr;Y, CALL[LRBT1];	*RETURN FROM LRBT1 WITH ORIGINAL Q RCY 1	GOTO[.-1,Q EVEN];*NOW TEST 36 PATTERNS OF A SINGLE 0 WITH 35 1'S	Q&larr;NOT Q;	X&larr;Y, CALL[LRBT1];	*RETURN FROM LRBT1 WITH ORIGINAL Q RCY 1	GOTO[.-1,Q ODD];*NOW TEST LB SPECIAL KLUDGES LINDX AND LACS	Q&larr;A1, X&larr;NULL;	LX&larr;A1, AC&larr;NULL;	Q&larr;LINDX, CALL[QZT];	*LINDX DIDN'T READ 0 ON [X]=0	Q&larr;LACS, CALL[QZT];	*LACS DIDN'T READ 0	LINDX&larr;A0;	Q&larr;LX, CALL[NQZT];	*LINDX&larr;A0 SUCCEEDED ON [X]=0	LACS&larr;A0, INCAC;	Q&larr;LX, CALL[NQZT], INCX; *LACS&larr;A0 SUCCEEDED ON [AC]=0LBTL:	LAC&larr;A1;	Q&larr;LACS, CALL[NQZT];	*LACS FAILED ON [AC]#0	Q&larr;LINDX, CALL[NQZT];	*LINDX FAILED ON [X]#0	LINDX&larr;A0;	Q&larr;LX, CALL[QZT];	*LINDX&larr; FAILED ON [X]#0	LACS&larr;A1, INCAC;	Q&larr;LX, CALL[NQZT], INCX; *LACS&larr; FAILED ON [AC]#0	P&larr;AC;	P;	GOTO[LBTL,ALU#0];	LX&larr;A1;	Q&larr;LINDX, CALL[QZT];	***IT WOULD BE BETTER IF THIS TEST WERE ON				***FIVE BITS.	LINDX&larr;A0;	Q&larr;LX, CALL[NQZT];	*LINDX FAILED ON [X]=20*[X]&gt;17 IS REALLY A DON'T CARE FOR LINDX	GOTO[SMTEST];LRBT1:	RX&larr;Q, Q LCY 1, DECX;	GOTO[.-1,X&gt;=0];	X&larr;Y;	LX&larr;Q, Q LCY 1, DECX;	GOTO[.-1,X&gt;=0];*AT THIS POINT THE ORIGINAL VALUE IN Q HAS BEEN LCY'ED AFTER EACH OF 64*LOADS SO IT CAN BE RESTORED TO THE ORIGINAL VALUE BY LCYING 8 MORE TIMES.	Q LCY 1, CALL[QLCY7], X&larr;Y;LRBTA:	P&larr;B, B&larr;Q, Q&larr;RX, DECX, CALL[PQCOMP]; *RB[X-1] FAILED ON [P]	Q&larr;P;	Q LCY 1, GOTO[.-2,X&gt;=0];	X&larr;Y;LRBTB:	P&larr;B, B&larr;Q, Q&larr;LX, DECX, CALL[PQCOMP]; *LB[X-1] FAILED ON [P]	Q&larr;P;	Q LCY 1, GOTO[.-2,X&gt;=0], P&larr;AC&larr;Y;*NOW CHECK OUT ADDRESSING LB AND RB FROM ACLRBT2:	P;	GOTO[.-1,ALU&gt;0], LAC&larr;RAC&larr;Q, DECAC, P&larr;AC, Q LCY 1;	CALL[QLCY23], Q LCY 1;LRBT4:	P&larr;B, B&larr;Q, Q&larr;LAC, CALL[PQCOMP];	Q&larr;RAC, CALL[PQCOMP];	Q&larr;P, P&larr;AC, DECAC;	P, Q LCY 1;	GOTO[LRBT4,ALU&gt;0];*ORIGINAL Q HAS NOW BEEN CYCLED 80 TIMESSET[TT,4];LRBT5:	REPEAT[33,ILC[(LA[TT]RA[TT] LB&larr;RB&larr;Q, Q LCY 1, SET[TT,ADD[TT,1]])]];	CALL[QLCY10], Q LCY 1;SET[TT,4];LRBT6:	REPEAT[33,ILC[(P&larr;B, B&larr;Q, Q&larr;LB, CALL[PQCOMP], LA[TT], SET[TT,ADD[TT,1]])]		ILC[(Q&larr;RB, RA[TT], CALL[CPQCOMP])]];	RETURN;		 *ORIGINAL Q CYCLED 107 TIMES = RCY 1CPQCOMP: CALL[PQCOMP];		 *GET PROBLEM ADDRESS FROM STACK	Q&larr;P;	Q LCY 1, RETURN;*TEST OF SMINCPCOMP:	P&larr;B, B&larr;P+1, GOTO[PQCOMP];*SUBROUTINE "SMTC" INITIALIZES ALL THE SM AND DM REGISTERS TO VALUES BEGINNING*WITH [R7] AND [Q] AND THEN CYCLED BY 1 FOR EACH SUCCESSIVE WORD.	AFTER*INITIALIZING ALL 1024 REGISTERS IT READS THEM BACK AND CHECKS FOR ERRORS.*DM[I] IS ALWAYS SET TO NOT[SM[I]].SMTC:	SY&larr;Q, Q&larr;NOT Q;	D&larr;Q, Q&larr;NOT Q, INCY;	Q LCY 1, GOTO[.-2,Y&gt;=0];	SY&larr;Q, Q&larr;NOT Q;	D&larr;Q, Q&larr;NOT Q, INCY;	Q LCY 1, GOTO[.-2,Y&lt;0];SMTC0:	Q&larr;R7, P&larr;SY, CALL[PQCOMP]; *SY&larr;B OR B&larr;SY FAILEDSMTC1:	Q&larr;NOT Q, P&larr;D, CALL[PQCOMP], INCY; *D&larr;B OR B&larr;D FAILED	Q&larr;NOT Q, DGOTO[.-1,Y&gt;=0];SMTC2:	Q LCY 1, P&larr;SY, CALL[PQCOMP]; *SY&larr;B OR B&larr;SY FAILEDSMTC3:	Q&larr;NOT Q, P&larr;D, CALL[PQCOMP], INCY; *D&larr;B OR B&larr;D FAILED	Q&larr;NOT Q, DGOTO[.-1,Y&lt;0];SMTC4:	Q LCY 1, P&larr;SY, CALL[PQCOMP,Y&lt;0]; *SY&larr;B OR B&larr;SY FAILED	Q&larr;R7, RETURN;*TEST OF SM AND DM ADDRESSED FROM YSMTEST:	Y&larr;P&larr;NULL, DGOTO[SMT0];	R7&larr;Q&larr;P+1, CALL[SMTC];	GOTO[SMT1,ALU&lt;=0], R7&larr;Q, Y&larr;NULL;	CALL[SMTC];SMT0:	GOTO[.-2], Q RCY 1, AQ;SMT1:	P&larr;B, B&larr;A1;	R7&larr;Q&larr;2P, CALL[SMTC];	AQ, Q LCY 1;	DGOTO[.-1,ALU&lt;0];	CALL[SMTC], R7&larr;Q, Y&larr;NULL;*TEST Y U SA FOR SA FROM 0 TO 17 FOR Y FROM 0 BY 20 TO 760*WRITE ADDRESS INTO EACH SM LOCATIONSMT2:	Y&larr;P&larr;Q&larr;NULL;	SY&larr;Q, INCY;	P&larr;Q&larr;B, B&larr;P+1, GOTO[.-1,Y&gt;=0];	SY&larr;Q, INCY;	P&larr;Q&larr;B, B&larr;P+1, GOTO[.-1,Y&lt;0];*TEST BELOW FAILS WITH EXPECTED VALUE IN P, ACTUAL VALUE READ FROM SM IN Q.*INTENDED TO CATCH ADDRESSING FAILURES FOR SM, FAILURES MIGHT ALSO*BE THE LOW FOUR BITS OF RETURN ADDRESS.SMT3:	P&larr;B, B&larr;A1;	Y&larr;NULL;SMTX:	SET[TEMP,0];REPEAT[20,ILC[(Q&larr;$,SET[TEMP,ADD[TEMP,1]],SA[TEMP], CALL[INCPCOMP])]];	Q&larr;A1, CALL[Q10];	P-Q;	GOTO[SMTX,ALU&lt;0], Y&larr;P+1;*TEST READ ADDRESSING FROM SA FOR SA = 20 TO 377SMT4:	Q&larr;A1, CALL[Q4];	P&larr;B, B&larr;Q;SET[TEMP,17];REPEAT[360,(ILC[(Q&larr;$, SA[TEMP], CALL[INCPCOMP], SET[TEMP,ADD[TEMP,1]])] )];*TEST F1 = READS AND F2 = READSTREADS:	STEMP&larr;Q&larr;NULL;	P&larr;(Q) U (AQ) U (STEMP), CALL[PZT];	*F2=READS FAILED ON BITS IN Q	Q&larr;NULL;	P&larr;(Q) U (STEMP), INHINT, CALL[PZT];	*F1=READS FAILED ON BITS IN Q	Q&larr;A1;	STEMP&larr;Q, Q&larr;A0;	P&larr;(Q) U (AQ) U (STEMP), CALL[NPZT];	*F2=READS FAILED ON BITS IN Q	P&larr;(Q) U (STEMP), INHINT, CALL[NPZT];	*F1=READS FAILED ON BITS IN Q*TEST F1=LOADS AND F2=LOADSTLOADS:	Q&larr;A1;	STEMP&larr;Q;	STEMP&larr;X&larr;NULL;	P&larr;STEMP, Q&larr;A0, CALL[PQCOMP];	*F2=LOADS FAILED ON 1'S IN P	STEMP&larr;NULL, Q&larr;A1;	STEMP&larr;X&larr;Q;	P&larr;STEMP, CALL[PQCOMP];	*F2=LOADS FAILED ON 0'S IN P	STEMP&larr;Q;	STEMP&larr;X&larr;NULL, INHINT;	P&larr;STEMP, Q&larr;A0, CALL[PQCOMP];	*F1=LOADS FAILED ON 1'S IN P	STEMP&larr;NULL, Q&larr;A1;	STEMP&larr;X&larr;Q, INHINT;	P&larr;STEMP, CALL[PQCOMP];	*F1=LOADS FAILED ON 0'S IN P*TEST Q-REGISTER RCYQQ, RCYNOTLUQ, RCY0Q (=NO ACTION) ON* Q RSH 1 AND Q LSH 1.  F2=RCYQQ HAS ALREADY BEEN TESTED ON Q RSH 1 AND*Q LSH 1 SO ONLY F1 = RCYQQ NEED BE TESTED*! MAXC1 ONLYM[RCYNOTLUQ,Z[47]]; *LANG HAS NO WAY TO INVOKE THIS F1 WITHOUT CLOBBERING P ALSO*!*~ MAXC2 ONLYM[RCYNOTLUQ,Z[7]]; *LANG2 HAS NO WAY TO INVOKE THIS F1 WITHOUT CLOBBERING P ALSO*~TQCYC:	Q&larr;A1;	Q RCY 1, INHINT, CALL[NQZT]; *F1=RCYQQ FAILED ON Q RSH 1, Q=-1	Q&larr;A1;TQC0:	Q RSH 1, RCYNOTLUQ, CALL[NQZT]; *F1=RCYNOTLUQ FAILED ON -1	Q&larr;A1;	Q RSH 1, RCY0Q;	P&larr;B, B&larr;Q;TQC1:	Q&larr;2P+1, CALL[NQZT];	*F2=RCY0Q SCRAMBLED Q RSH 1	Q&larr;A1;	Q RSH 1, RCY0Q, INHINT;	P&larr;B, B&larr;Q;TQC2:	Q&larr;2P+1, CALL[NQZT];	*F1=RCY0Q SCRAMBLED Q RSH 1	P&larr;Q&larr;B, B&larr;A1;TQC3:	Q LCY 1, INHINT, CALL[NQZT]; *F1=RCYQQ FAILED ON Q LSH 1, Q=-1	Q&larr;A1;TQC4:	Q LSH 1, RCYNOTLUQ, CALL[NQZT];				*F1=RCYNOTLUQ FAILED ON Q LSH 1, Q=-1	Q&larr;A0;TQC5:	Q RCY 1, INHINT, CALL[QZT]; *F1=RCYQQ FAILED ON Q=0, Q RSH 1	Q&larr;A0;TQC6:	Q RSH 1, RCYNOTLUQ, CALL[QZT]; *F1=RCYNOTLUQ FAILED ON Q=0,Q RSH 1	Q&larr;A0;TQC7:	Q LCY 1, INHINT, CALL[QZT]; *F1=RCYQQ FAILED ON Q=0, Q LSH 1	Q&larr;A0;TQC8:	Q LSH 1, RCYNOTLUQ, CALL[QZT];				*F1=RCYNOTLUQ FAILED ON Q=0, Q LSH 1	P&larr;Q&larr;NULL;TQC9:	Q RSH 1, ASHOVF, CALL[PQCOMP]; *ASHOVF FAILED ON Q RSH 1				*0 IN P, 0 IN Q	P&larr;B, B&larr;P+1;	Q RSH 1, ASHOVF;TQC10:	Q LCY 1, CALL[PQCOMP];	*ASHOVF FAILED ON Q RSH 1, 1 IN P, 0 IN Q	Q&larr;NULL;	P&larr;B, B&larr;NOT P;TQC11:	Q RSH 1, ASHOVF, CALL[QZT]; *ASHOVF FAILED ON Q=0, P=-2	P&larr;B, B&larr;A1;	Q&larr;NULL;	Q RSH 1, ASHOVF;	P&larr;NULL;TQC12:	Q LCY 1, P&larr;B, B&larr;P+1, CALL[PQCOMP];	*ASHOVF FAILED ON Q=0, P=-1*TEST Q&larr;RB RSH 1 FOR THE CASES PS=ALU RSH 1, F1 OR F2=RCYQQ, OR F1=*RCYNOTLUQ, OR NOT THESETQRB:	Q&larr;R7&larr;A1, CALL[QRB1];	Q&larr;R7&larr;A0, CALL[QRB1];	GOTO[FTEST];QRB1:	P&larr;B, B&larr;Q, Q&larr;A0;	Q&larr;(R7) RCY 1, CALL[PQCOMP]; *RB RSH 1, F2=RCYQQ FAILED	Q&larr;(R7) RCY 1, INHINT, CALL[PQCOMP]; *RB RSH 1, F1=RCYQQ FAILED	Q&larr;(R7) RSH 1, RCYNOTLUQ, CALL[PQCOMP]; *RB RSH 1, F1=RCYNOTLUQ FAILED	Q&larr;P;	Q RSH 1;QRB2:	P&larr;B, B&larr;Q, Q&larr;(R7) RSH 1, CALL[PQCOMP];	*RB RSH 1 FAILED	L7&larr;P;	P&larr;(A0) ARSHC 1, Q&larr;(R7) RSH 1;	*RB ARSHC 1 FAILED ON 0 THROUGH ALUQRB3:	P&larr;B, B&larr;Q, Q&larr;L7, CALL[PQCOMP];	P&larr;(A1) ARSHC 1, Q&larr;(R7) RSH 1;	AQ;QRB4:	CALL[CBRK,ALU&gt;=0], P&larr;NULL; *RB ARSHC 1 FAILED ON -1 THROUGH ALU	P&larr;B, L7&larr;B&larr;P+1;	P&larr;(P) ARSHC 1, Q&larr;(R7) RSH 1;	AQ, Q&larr;L7;QRB5:	CALL[CBRK,ALU&gt;=0], P&larr;B, B&larr;Q; *RB ARSHC 1 FAILED ON 1 THROUGH ALU	P&larr;(NOT P) ARSHC 1, Q&larr;(R7) RSH 1;	AQ;	RETURN[ALU&gt;=0];QRB6:	BREAK;			*RB ARSHC 1 FAILED ON -2 THROUGH ALU*TEST FLAG REGISTERFTEST:	Q&larr;A1;	-1S&larr;Q;	SETF[-1S], CALL[NFZT];	*SETF OR NOT F (OR F) FAILED (WRONG BITS IN Q)	CLEARF[-1S], CALL[FZT];	*CLEARF OR NOT F (OR F) FAILED (WRONG BITS IN Q)	SETFC[-1S,NEVER], CALL[FZT,NEVER];	*SETFC TOOK ON BC=NEVER (WRONG BITS IN Q)	SETFC[-1S,A], CALL[NFZT];	*SETFC FAILED TO TAKE ON BC=ALWAYS (WRONG BITS IN Q)	CLEARFC[-1S,NEVER], CALL[NFZT,NEVER];	*CLEARFC FAILED ON BC=NEVER (WRONG BITS IN Q)	CLEARFC[-1S,A], CALL[FZT];	*CLEARFC FAILED ON BC=ALWAYS (WRONG BITS IN Q)	SETFB[-1S,A], CALL[NFZT];	*SETFB FAILED ON BC=ALWAYS (WRONG BITS IN Q)	SETFB[-1S,NEVER], CALL[FZT,NEVER];	*SETFB FAILED ON BC=NEVER (WRONG BITS IN Q)*TEST SETF ON EVERY COMBINATION OF A SINGLE 1 WITH 35 0'S WITH F ORIGINALLY*0 AND WITH F ORIGINALLY THE COMPLEMENT OF THE WORD CONTAINING THE SINGLE 1.*PERFORM THE ANALOGOUS TESTS ON CLEARF.  PERFORM THE COMPLEMENT TESTS.FT1:	P&larr;NULL;	R7&larr;Q&larr;P+1;	STEMP&larr;Q, Q&larr;NOT Q;	STEMP1&larr;Q, CALL[FTX];	*Q=STEMP1=NOT[STEMP]	Q LCY 1, DGOTO[TSETSF];	GOTO[.-3,Q EVEN], R7&larr;Q;FTX:	CLEARF[-1S];	SETF[STEMP], CALL[FQNEQ];	*SETF FAILED ON [Q]	CLEARF[STEMP1], CALL[FQNEQ];	*CLEARF FAILED ON NOT[Q]	CLEARF[STEMP], CALL[FZT];	*CLEARF FAILED ON [Q]	SETF[STEMP1], Q&larr;R7, CALL[FQNEQ];	*SETF FAILED ON NOT[Q]	Q&larr;R7, RETURN;*NOW TEST SETSF.TSETSF:	P&larr;NULL;	Q&larr;P+1;	G&larr;Q, Q LSH 1;	H&larr;Q, Q LSH 1;	J&larr;Q, Q LSH 1;	K&larr;Q, Q LSH 1;	STEMP1&larr;Q, GOTO[.+3];SFT1:	Q LCY 1;	GOTO[GBCT,Q ODD], STEMP1&larr;Q;	CALL[SETSFT];	GOTO[SFT1], Q&larr;STEMP1;SETSFT:	P&larr;G, CALL[SFT2];	P&larr;H, CALL[SFT2];	P&larr;J, CALL[SFT2];	P&larr;K, GOTO[SFT2];*"SFT2" CALLED WITH G, H, J, OR K COMBINATION IN P AND BIT TO*BE TESTED IN QSFT2:	STEMP2&larr;P&larr;B, B&larr;Q, Q&larr;P;	*STEMP2&larr;P&larr;BIT, Q&larr;FLAG	STEMP3&larr;Q, Q&larr;P OR Q;	*STEMP3&larr;G, H, J, OR K	STEMP4&larr;Q;		*STEMP4&larr;BOTH BIT AND G, H, J, OR K	CLEARF[-1S];		*CLEAR ALL FLAGS	SETF[STEMP2], Q&larr;$, CALL[FQEQ];	*SETF FAILED ON NOT[Q]	SETSF[STEMP4], Q&larr;$, CALL[FQEQ];	*SETSF FAILED TO SET FLAG = 1	CLEARF[STEMP3];	Q&larr;STEMP2, CALL[FQEQ];	*CLEARF FAILED ON BIT IN STEMP3*NOW TEST FOR ALL 37 CASES WHEN SETSF DOES NOT SET THE SELECTED FLAGS TO 1SFT3:	Q&larr;STEMP2, GOTO[SFT5];SFT3X:	P&larr;STEMP2;	P#Q, STEMP5&larr;Q;	GOTO[SFT4,ALU=0], P&larr;B, B&larr;NOT P;	Q&larr;(Q) U (STEMP3);	STEMP4&larr;Q;	SETSF[STEMP4], CALL[FPEQ];	*SETSF SET SOME FLAG TO 1 IT SHOULDN'T HAVE.	Q&larr;STEMP5;SFT5:	Q LCY 1, DGOTO[SFT3X];	CALL[QLCY4,Q ODD];SFT4:	Q&larr;STEMP1, RETURN;*NOW TEST G, H, J, AND K BRANCH CONDITIONSGBCT:	CLEARF[-1S];	SETF[G];	GOTO[.+2,G=1];	BREAK;			*G=1 BC FAILED ON TRUE	CALL[CBRK,G=0], SETF[-1S]; *G=0 BC FAILED ON FALSE	CLEARF[G];	GOTO[.+2,G=0];	BREAK;			*G=0 BC FAILED ON TRUE	CALL[CBRK,G=1];		*G=1 BC FAILED ON FALSEHBCT:	CLEARF[-1S];	SETF[H];	GOTO[.+2,H=1];	BREAK;			*H=1 FAILED ON TRUE	CALL[CBRK,H=0], SETF[-1S]; *H=0 FAILED ON FALSE	CLEARF[H];	GOTO[.+2,H=0];	BREAK;			*H=0 FAILED ON TRUE	CALL[CBRK,H=1];		*H=1 FAILED ON FALSEJBCT:	CLEARF[-1S];	SETF[J];	GOTO[.+2,J=1];	BREAK;			*J=1 FAILED ON TRUE	CALL[CBRK,J=0], SETF[-1S]; *J=0 FAILED ON FALSE	CLEARF[J];	GOTO[.+2,J=0];	BREAK;			*J=0 FAILED ON TRUE	CALL[CBRK,J=1];		*J=1 FAILED ON FALSEKBCT:	CLEARF[-1S];	SETF[K];	GOTO[.+2,K=1];	BREAK;			*K=1 FAILED ON TRUE	CALL[CBRK,K=0], SETF[-1S]; *K=0 FAILED ON FALSE	CLEARF[K];	GOTO[.+2,K=0];	BREAK;			*K=0 FAILED ON TRUE	CALL[CBRK,K=1];		*K=1 FAILED ON FALSE*TEST Q35ALUG (Q35&larr;ALU0[PREVIOUS INSTRUCTION] # G) IF Q LSH 1TQ35AG:	P&larr;Q&larr;NULL, CALL[TQ35X];	Q&larr;A1, CALL[Q43];	P&larr;B, B&larr;Q, Q&larr;A0, CALL[TQ35X];	GOTO[MPTEST];TQ35X:	CLEARF[G], P;	Q LSH 1, Q35ALUG;	CALL[CBRK,Q ODD], NOT P; *Q35ALUG FAILED ON G=0, ALU0=0, Q35=0	Q LSH 1, Q35ALUG, CALL[CBRK,Q ODD]; *Q35ALUG FAILED ON G=0, ALU0=0,Q35=0	CALL[CBRK,Q EVEN], NOT P; *Q35ALUG FAILED ON G=0, ALU0=1, Q35=0	Q LSH 1, Q35ALUG, CALL[CBRK,Q EVEN]; *Q35ALUG FAILED ON G=0,ALU0=1,Q35=0	CALL[CBRK,Q EVEN], SETF[G], P; *Q35ALUG FAILED ON G=0, ALU0=1, Q35=1	Q LSH 1, Q35ALUG, CALL[CBRK,Q EVEN]; *Q35ALUG FAILED ON G=0,ALU0=1,Q35=1	CALL[CBRK,Q EVEN], NOT P; *Q35ALUG FAILED ON G=1, ALU0=0,Q35=1	Q LSH 1, Q35ALUG, CALL[CBRK,Q EVEN]; *Q35ALUG FAILED ON G=1,ALU0=0,Q35=1	CALL[CBRK,Q ODD]; *Q35ALUG FAILED ON G=1,ALU0=1,Q35=1	RETURN[Q EVEN];	BREAK;			*Q35ALUG FAILED ON G=1, ALU0=1*SUBROUTINES TO FILL 1024 MAP ENTRIES WITH Q, Q LCY 1, Q LCY 2, ETC.*AND THEN READ BACK AND CHECK THE RESULTS.  ORIGINAL Q IS*RETURNED IN Q. [Y]=0, CUM=0, [P]=777777 AT CALL.MPTCX:	Q&larr;P AND Q, P&larr;B, B&larr;Q;	MAP&larr;Q, Q&larr;P, INCY;	Q LCY 1, GOTO[.-2,Y&gt;=0], P&larr;777777S;	Q&larr;P AND Q, P&larr;B, B&larr;Q;	MAP&larr;Q, Q&larr;P, INCY, DGOTO[.-1];	Q LCY 1, P&larr;777777S, RETURN[Y&gt;=0];MPTCY:	R11&larr;L7&larr;P AND Q, Q LCY 1;	P&larr;MAP, INCY, R10&larr;Q, Q&larr;L7, CALL[PQCOMP];	*[MAP] AT Y-1 WRONG	Q&larr;R10, P&larr;777777S, GOTO[.-2,Y&gt;=0];	R11&larr;L7&larr;P AND Q, Q LCY 1, P&larr;MAP, INCY;	R10&larr;Q, Q&larr;L7, CALL[PQCOMP];	*[MAP] AT Y-1 WRONG	Q&larr;R10, P&larr;777777S, GOTO[.-2,Y&lt;0];	RETURN;*HERE WITH [Y]=0, 777777 IN P, AND NUMBER BASE IN R7MPTC:	CLEARF[CUM], CALL[MPTCX];	*MON. MAP WRITES	SETF[CUM], CALL[MPTCX];	*USER MAP WRITES	CLEARF[CUM], Q&larr;R7, CALL[MPTCY]; *MON. MAP READS	SETF[CUM], GOTO[MPTCY];	*USER MAP READSMPTEST:	Y&larr;P&larr;NULL, CLEARF[-1S];	Q&larr;P+1, CALL[QLCY10];	CUM&larr;Q, Q&larr;A1, CALL[Q22];*TEST 18 PATTERNS OF A SINGLE 1 WITH 17 ZEROES AND 18 PATTERNS OF ALL ZEROES	777777S&larr;Q, DGOTO[MPT0];	R7&larr;Q&larr;P+1, CALL[MPTC], P&larr;777777S;MPT2:	GOTO[MPT1,ALU&lt;=0], R7&larr;Q, Y&larr;NULL;	CALL[MPTC], P&larr;777777S;MPT0:	Q LCY 1, AQ, GOTO[MPT2];*TEST 18 PATTERNS OF A SINGLE 0 WITH 17 1'S AND 18 PATTERNS OF 777777MPT1:	P&larr;B, B&larr;A1, DGOTO[MPT3];	R7&larr;Q&larr;2P, CALL[MPTC], P&larr;777777S;MPT4:	GOTO[M4TEST,ALU&gt;=0], R7&larr;Q, Y&larr;NULL;	CALL[MPTC], P&larr;777777S;MPT3:	Q LCY 1, AQ, GOTO[MPT4];*M4CHK CALLED WITH Y, CUM, AND Q LOADED WITH SOME VALUES.  IT PERFORMS*MAP4&larr; AND CHECKS IT.  LH[Q] MUST BE 0M4CHK:	P&larr;Y;	MAP4&larr;Q, R7&larr;Q;	REPEAT[4,ILC[(DECY)]];	Q&larr;Y, CALL[PQCOMP];	*MAP4&larr; FAILED TO INCREMENT Y BY 4				*CORRECT VALUE IN P, WRONG VALUE IN Q	P&larr;MAP, INCY, Q&larr;R7, CALL[PQCOMP]; *MAP4&larr; FAILED ON 0TH WORD	P&larr;MAP, INCY, Q&larr;R7, CALL[PQCOMP]; *MAP4&larr; FAILED ON 1ST WORD	P&larr;MAP, INCY, Q&larr;R7, CALL[PQCOMP]; *MAP4&larr; FAILED ON 2ND WORD	P&larr;MAP, INCY, Q&larr;R7, GOTO[PQCOMP]; *MAP4&larr; FAILED ON 3RD WORD*RETURN WITH Y INCREMENTED BY 4, Q UNCHANGEDM4TX:	Q&larr;Y&larr;NULL, CALL[M4CHK];	Q&larr;NULL, CALL[M4CHK];	GOTO[.-1, Y&gt;=0];	Q&larr;NULL, CALL[M4CHK];	GOTO[.-1,Y&lt;0], Q&larr;777777S;	Y&larr;NULL, CALL[M4CHK];	Q&larr;777777S, CALL[M4CHK];	GOTO[.-1,Y&gt;=0];	Q&larr;777777S, CALL[M4CHK];	GOTO[.-1,Y&lt;0];	RETURN;M4TEST:	CLEARF[CUM], CALL[M4TX];	SETF[CUM], CALL[M4TX];*XSPLIT&larr; PUTS B[0,8] INTO Y, B[9,12] INTO AC, B[14,17] INTO X, AND NOT*B[13] INTO G AND HTXSPLIT:	Q&larr;A1, Y&larr;NULL, CALL[Q11];	CALL[QLCY33], P&larr;B, B&larr;Q;	XSPLIT&larr;Q;	Q&larr;Y, CALL[PQCOMP];	*XSPLIT&larr; FAILED TO LOAD Y FROM 777	Q&larr;NOT P, CALL[QLCY33];	XSPLIT&larr;Q;	Q&larr;Y, CALL[QZT];		 *XSPLIT&larr; FAILED TO LOAD Y FROM 0	Q&larr;A1, CALL[Q4], X&larr;NULL;	CALL[QLCY22], P&larr;B, B&larr;Q;	XSPLIT&larr;Q;	Q&larr;X, CALL[PQCOMP];	*XSPLIT&larr; FAILED TO LOAD X FROM 17	Q&larr;NOT P, CALL[QLCY22];	XSPLIT&larr;Q;	Q&larr;X, CALL[QZT];		 *XSPLIT&larr; FAILED TO LOAD X FROM 0	Q&larr;A1, CALL[Q4], AC&larr;NULL;	CALL[QLCY27], P&larr;B, B&larr;Q;	XSPLIT&larr;Q;	Q&larr;AC, CALL[PQCOMP];	*XSPLIT&larr; FAILED TO LOAD AC FROM 17	Q&larr;NOT P, CALL[QLCY27];	XSPLIT&larr;Q;	Q&larr;AC, CALL[QZT];	*XSPLIT&larr; FAILED TO LOAD AC FROM 0	P&larr;NULL, SETF[-1S];	B&larr;Q&larr;P+1, CALL[QLCY26], P&larr;B;	XSPLIT&larr;Q, Q&larr;2P+1, CALL[FQNEQ];	*P SHOULD HAVE 3 (777777 777774)	CLEARF[-1S], P&larr;NULL;	B&larr;Q&larr;P+1, P&larr;B, CALL[QLCY26];	XSPLIT&larr;Q&larr;NOT Q;	Q&larr;2P+1, CALL[FQEQ];	*P SHOULD HAVE NOT 3 (3) (XSPLIT&larr; FAILED TO				*SET G=H=1 ON B[13]=0*ISPLIT SHOULD LOAD X FROM B[14,17] AND G&larr;NOT B[13].** ASSUME THAT ROUGHLY SAME LOGIC AS FOR XSPLIT IS USED SO WORRY**ABOUT CLOBBERING OTHER REGISTERSTISPLIT: XSPLIT&larr;NULL;	CLEARF[-1S];	ISPLIT&larr;A1;	P&larr;AC, CALL[PZT];	*ISPLIT&larr; CLOBBERED AC	P&larr;Y, CALL[PZT];		*ISPLIT&larr; CLOBBERED Y	P&larr;X, Q&larr;A1, CALL[Q4];	*Q&larr;17	CALL[PQCOMP];		*ISPLIT&larr; FAILED TO LOAD X FROM 17	CALL[FZT];		*ISPLIT&larr; CLOBBERED F (SHOULD HAVE 0 IN Q)	ISPLIT&larr;NULL;	Q&larr;X, CALL[QZT];		*ISPLIT&larr; FAILED TO LOAD X FROM 0	CALL[F1T];		*ISPLIT&larr; FAILED TO LOAD G FROM 1*FSPLIT&larr; LOADS Y FROM B[0,8]TFSPLIT: XSPLIT&larr;NULL, SETF[-1S];	*CLEAR ALL	FSPLIT&larr;Q&larr;A1, CALL[Q11];	P&larr;Y, CALL[PQCOMP];	*FSPLIT&larr; FAILED TO LOAD Y FROM 777	CALL[NFZT];		*FSPLIT&larr; CLOBBERED F	Q&larr;X, CALL[QZT];		*FSPLIT&larr; CLOBBERED AC	FSPLIT&larr;NULL;	Q&larr;Y, CALL[QZT];		*FSPLIT&larr; DIDN'T LOAD Y FROM 0*BSPLIT&larr; LOADS Y FROM B[0,5] AND X FROM B[6,11]TBSPLIT: XSPLIT&larr;NULL;	CLEARF[-1S], Q&larr;A1, CALL[Q6];	CALL[QLCY36], R7&larr;Q;	BSPLIT&larr;Q, Q&larr;R7;	P&larr;Y, CALL[PQCOMP];	*BSPLIT&larr; FAILED TO LOAD Y FROM 77.	Q&larr;X, CALL[QZT];		*BSPLIT&larr; FAILED TO LOAD X FROM 0	Q&larr;R7, CALL[QLCY30];	BSPLIT&larr;Q;	Q&larr;Y, CALL[QZT];		*BSPLIT&larr; FAILED TO LOAD Y FROM 0	P&larr;X, CALL[PQCOMP], Q&larr;R7; *BSPLIT&larr; FAILED TO LOAD X FROM 77*TEST STACK&larr; FOR ITS AFFECT ON G.	PREVIOUSLY TESTED ONLY DATA PUSHING*AND POPPING.	G&larr;G OR (B[0]=0) IS SUPPOSED TO OCCUR.TSTACKG: CLEARF[-1S], Q&larr;A1, CALL[Q43];	STACK&larr;NULL;	CALL[CBRK,G=0];	 *G WRONG AFTER STACK&larr;NULL (SHOULD CHANGE 0 TO 1)	STACK&larr;A1;	CALL[CBRK,G=0];	 *G WRONG AFTER STACK&larr;A1 (SHOULD REMAIN 1)	CLEARF[-1S];	STACK&larr;A1;	CALL[CBRK,G=1];	 *G WRONG AFTER STACK&larr;A1 (SHOULD REMAIN 0)	STACK&larr;Q;	CALL[CBRK,G=0]; *G WRONG AFTER STACK&larr;377777 777777 (G SHOULD GO 0 TO 1)	STACK&larr;NOT Q;	CALL[CBRK,G=0]; *G WRONG AFTER STACK&larr;400000 000000 (SHOULD REMAIN 1)*THIS COMPLETES TEST OF ALL SOURCES AND DESTINATIONS APART FROM THOSE*RELATED TO THE DISK UNITS OR INTERRUPT SYSTEM, TO THE INSTRUCTION*MEMORY, AND TO THE MEMORY INTERFACES.	GOTO[TOVPC01];%"OPC01T" ACCEPTS ARGUMENTS FOR P+Q AND P-Q-1 IN P AND Q, PROPER VALUEFOR F AFTER P+Q IN STEMP1, PROPER VALUE FOR F AFTER P-Q-1 IN STEMP2.SETOVPC01 IS CHECKED FOR P+Q AND P-Q-1 WITH F ORIGINALLY 0 AND ORIGINALLY-1.	CJ&amp;SJC IS ALSO CHECKED FOR BOTH INITIAL VALUES OF J FOR THE ARGU-MENTS IN P AND IN Q.	SETHOVF IS ALSO CHECKED.%OPC01T:	CLEARF[-1S], L7&larr;Q;	P+Q, SETOVPC01;OPCT0:	Q&larr;STEMP1, R7&larr;P, CALL[FQEQ];	*SETOVPC01 FAILED ON P+Q, F=0	CALL[TCJ];	Q&larr;R7;	P&larr;B, B&larr;Q, Q&larr;L7, SETF[-1S];OPCT1:	P+Q, SETOVPC01, CALL[NFZT];	*SETOVPC01 ZEROED OVF, PC0, OR PC1	Q&larr;R7, CLEARF[-1S];	P&larr;B, B&larr;Q, Q&larr;L7;OPCT2:	P-Q-1, SETOVPC01, Q&larr;STEMP2, CALL[FQEQ];	*SETOVPC01 FAILED ON P-Q-1, F=0	CALL[TCNJ];	Q&larr;R7;	P&larr;B, B&larr;Q, Q&larr;L7, SETF[-1S];OPCT3:	P-Q-1, SETOVPC01, CALL[NFZT];	*SETOVPC01 ZEROED OVF, PC0, OR PC1	RETURN, P&larr;Q&larr;NULL;TCJ:	Q&larr;R7;	P&larr;B, B&larr;Q, Q&larr;L7, CLEARF[400000 000000S];	R10&larr;P+Q+J, GOTO[TCJ1,J=1];	P+Q, SETHOVF;	P&larr;B, B&larr;P+Q, Q&larr;R10, CALL[PQCOMP], SETOVPC01;	*P+Q+J # P+Q FOR J=0; P+Q IS IN P,				*P+Q+J IN Q, ORIGINAL P IN R7, ORIGINAL Q IN L7TCNJ2:	SETSF[PC0&amp;G], GOTO[.+3,J=0];	GOTO[THO,G=1];	BREAK;			*J AFTER CJ&amp;SJC # PC0 (PC0 WAS 0)	CALL[CBRK,G=1];	 *J AFTER CJ&amp;SJC # PC0 (PC0 WAS 1)THO:	Q&larr;R7;	P&larr;B, B&larr;Q, Q&larr;L7, SETSF[OVF&amp;G];	GOTO[.+3,G=0];	RETURN[H=1];	BREAK;			*H=0 AFTER SETHOVF WHEN OVF=1	RETURN[H=0];	BREAK;			*H=1 AFTER SETHOVF WHEN OVF=0TCJ1:	P+Q+1, SETHOVF;	P&larr;B, B&larr;P+Q+1, Q&larr;R10, CALL[PQCOMP], SETOVPC01;				*P+Q+J # P+Q+1 FOR J=1, (SEE EARLIER COMMENT)TCNJ:	Q&larr;R7;	P&larr;B, B&larr;Q, Q&larr;L7, CLEARF[400000 000000S];	R10&larr;P-Q-NJ, GOTO[TCNJ1,J=0];	P-Q, SETHOVF;	P&larr;B, B&larr;P-Q, Q&larr;R10, SETOVPC01, CALL[PQCOMP];	*P-Q-NJ # P-Q FOR J=1	GOTO[TCNJ2];TCNJ1:	P-Q-1, SETHOVF;	P&larr;B, B&larr;P-Q-1, Q&larr;R10, SETOVPC01, CALL[PQCOMP];	*P-Q-NJ # P-Q-1 FOR J=0	GOTO[TCNJ2];*TEST OF OVF, PC0, AND PC1 BEGINS HERE AND USES THE SUBROUTINES ABOVETOVPC01:	P&larr;NULL;	Q&larr;P&larr;B, B&larr;P+1, CALL[QLCY42];	Q&larr;P OR Q;	PC0&amp;G&larr;Q, Q&larr;P, CALL[QLCY43];	Q&larr;P OR Q;	OVF&amp;G&larr;Q;	Q&larr;A1, CALL[Q43];	Q&larr;NOT Q;	400000 000000S&larr;Q;	STEMP1&larr;P&larr;Q&larr;NULL;TOP01:	STEMP2&larr;NULL, CALL[OPC01T];	*00,00 = 000,000	Q&larr;P+1, CALL[QLCY41];	P&larr;B, B&larr;R11&larr;Q, Q LCY 1;	*R11&larr;100000 000000	R12&larr;Q;			*R12&larr;200000 000000	R15&larr;P OR Q, Q LCY 1;	*R15&larr;300000 000000	B&larr;R13&larr;Q, P&larr;B;		*R13&larr;400000 000000	Q&larr;R12;	R14&larr;P OR Q;		*R14&larr;600000 000000*THE NUMBERS IN THE COMMENTS BELOW REFER TO THE 2 LEADING BITS OF P AND*OF Q AND TO THE RESULTING OVF, PC0, AND PC1 RESULTS FOR P+Q AND P-Q,*RESPECTIVELYTOP02:	P&larr;NULL, Q&larr;R12, CALL[OPC01T]; *00,01 = 000,000TOP03:	P&larr;NULL, Q&larr;R13, CALL[OPC01T]; *00,10 = 000,000TOP04:	Q&larr;R14, P&larr;NULL, CALL[OPC01T]; *00,11=000,000	Q&larr;R12;	Q&larr;R15, P&larr;B, B&larr;Q;TOP05:	STEMP2&larr;Q, Q&larr;A0, CALL[OPC01T]; *01,00=000,011	Q&larr;R14;TOP06:	P&larr;B, B&larr;Q, Q&larr;A0, CALL[OPC01T]; *11,00=000,011	Q&larr;R13;	P&larr;B, B&larr;Q, Q&larr;R14;TOP07:	STEMP2&larr;Q, Q&larr;A0, CALL[OPC01T]; *10,00=000,110	Q&larr;R13;TOP10:	P&larr;B, B&larr;Q, Q&larr;R12, CALL[OPC01T]; *10,01=000,110	Q&larr;R13;	P&larr;B, B&larr;Q, Q&larr;R11;	R16&larr;Q&larr;P OR Q;		*R16&larr;500000 000000	STEMP2&larr;Q, Q&larr;R12;TOP11:	P&larr;B, B&larr;Q, Q&larr;R13, CALL[OPC01T]; *01,10=000,101	STEMP2&larr;NULL, Q&larr;R13;	P&larr;B, B&larr;Q, Q&larr;R14;TOP12:	STEMP1&larr;Q, CALL[OPC01T]; *10,11=110,000	Q&larr;R13;TOP13:	P&larr;B, B&larr;Q, CALL[OPC01T];	*10,10=011,000	Q&larr;R16;	STEMP1&larr;Q, Q&larr;R12;TOP14:	P&larr;B, B&larr;Q, CALL[OPC01T]; *01,01=101,000	Q&larr;R15;	STEMP1&larr;Q, Q&larr;R14;TOP15:	P&larr;B, B&larr;Q, CALL[OPC01T]; *11,11=011,000	Q&larr;R12;TOP16:	P&larr;B, B&larr;Q, Q&larr;R14, CALL[OPC01T]; *01,11=011,000	Q&larr;R14;TOP17:	STEMP2&larr;Q, P&larr;B, Q&larr;R12, CALL[OPC01T]; *11,01=011,110	P&larr;Q&larr;STEMP2;	STEMP1&larr;Q, Q&larr;R15;TOP20:	STEMP2&larr;Q, Q&larr;R13, CALL[OPC01T]; *11,10=110,011***DG2A.MC (MAXC1) OR DG2B.MC (MAXC2) MUST BE ASSEMBLED AFTER THIS***</pre>
  </body>
</html>
